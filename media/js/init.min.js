var $close,$toggle,$article,$height,$width,$article_frame,resetToggle,options,myid,qsRegex,$asc,$sortby,filters,rangeSlider,range_init,range_sel,min_range,max_range,cookie_name;function init_readmore(t){$toggle=jQuery(".isotope_grid"),$article=jQuery(".isotope_an_article"),$article_frame=jQuery("iframe#isotope_article_frame"),"ajax"!=options.readmore&&"iframe"!=options.readmore||($height=$toggle.height(),$width=$toggle.width(),t(".isotope-readmore-title").on("click touchstart",function(e){if($pos=t(".isotope-div").offset().top,t("html, body").animate({scrollTop:$pos},"slow"),e.stopPropagation(),e.preventDefault(),$toggle.addClass("isotope-hide"),$article.addClass("isotope-open"),$article.removeClass("isotope-hide"),$article.height("auto"),$article.addClass("article-loading"),"ajax"==options.readmore){t("#isotope_an_article").html("");t("#token").attr("name");request={option:"com_ajax",module:"simple_isotope",data:"readmore",id:myid,article:this.dataset.articleid,entree:options.entree,format:"json"},jQuery.ajax({type:"POST",data:request,success:function(t){$article.removeClass("article-loading"),$article.height($height),$article.width($width),displayArticle(t)},error:function(t){console.log(t.responseText)}})}else"iframe"==options.readmore&&($article_frame.height(0),$article_frame.width(0),$char="?",this.dataset.href.indexOf("?")>0&&($char="&"),$article_frame.attr("src",this.dataset.href+$char+"tmpl=component"),$article.addClass("article-loading"),($close=t("button.close")).addClass("isotope-hide"),$close.on("click touchstart",resetToggle));$toggle.on("click touchstart",resetToggle)})),t(".isotope-div").on("click touchstart",function(){resetToggle()}),t(".isotope_button-group").on("click touchstart",function(){resetToggle()}),resetToggle=function(){$toggle.hasClass("isotope-hide")?($article.removeClass("isotope-open"),$article.addClass("isotope-hide"),$toggle.removeClass("isotope-hide"),t(".isotope-main .isotope-div").trigger("refresh")):jQuery("#isotope_an_article").hasClass("isotope-open")&&(jQuery("#isotope_an_article").removeClass("isotope-open"),jQuery("#isotope_an_article").addClass("isotope-hide"),jQuery("#isotope_an_article").html(""),t(".isotope-main .isotope-div").trigger("refresh"))},$article_frame.load(function(){$article.removeClass("article-loading"),$close&&$close.removeClass("isotope-hide"),$article_frame.height($height),$article_frame.width($width)}).show()}function displayArticle(t){var e="";if(t.success){$info=t.data;for(var i=0;i<$info.data.length;i++){if(e+="<h1>"+$info.data[i].title+'<button type="button" class="close">X</button></h1>',"k2"==options.entree&&$info.data[i].image&&(e+='<span class="itemImage"><a class="moduleItemImage" href="'+$info.data[i].link+'">',e+='<img src="'+$info.data[i].image+'" alt="'+$info.data[i].title+'" /></a></span>'),e+=$info.data[i].fulltext,""==$info.data[i].fulltext&&(e+=$info.data[i].introtext),"k2"==options.entree&&$info.data[i].extra_fields){if(e+='<div class="itemExtraFields"><ul>',Array.isArray($info.data[i].extra_fields)){$l=$info.data[i].extra_fields.length;for(var a=0;a<$l;a++)e+='<li class="typeTextfield">',e+='<span class="itemExtraFieldsLabel">'+$info.data[i].extra_fields[a].name+"</span>",e+='<span class="itemExtraFieldsValue">'+$info.data[i].extra_fields[a].value+"</span>",e+="</li>"}else for(var a in $l=Object.values($info.data[i].extra_fields).length,$info.data[i].extra_fields)e+='<li class="typeTextfield">',e+='<span class="itemExtraFieldsLabel">'+$info.data[i].extra_fields[a].name+"</span>",e+='<span class="itemExtraFieldsValue">'+$info.data[i].extra_fields[a].value+"</span>",e+="</li>";e+="</ul></div>"}if($info.data[i].scripts.length>0)for(var s=0;s<$info.data[i].scripts.length;s++){var l=document.createElement("script");l.addEventListener("load",function(){console.log("Successfully loaded scripts")}),l.src=$info.data[i].scripts[s],document.head.appendChild(l)}if($info.data[i].css.length>0)for(s=0;s<$info.data[i].css.length;s++){var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.addEventListener("load",function(){console.log("Successfully loaded css")}),o.href=$info.data[i].css[s],document.head.appendChild(o)}}jQuery("#isotope_an_article").html(e),($close=jQuery("button.close")).on("click touchstart",resetToggle)}else if(e=t.message,t.messages&&t.messages.error)for(var r=0;r<t.messages.error.length;r++)e+="<br/>"+t.messages.error[r]}function iso_cat_k2(t,e,i){var a="#isotope-main-"+e+" ",s=i.limit_items,l=i.limit_items,o="true"==i.empty;filters={},$asc="true"==i.ascending,$sortby=i.sortby,0==i.limit_items&&t(a+".iso_button_more").hide(),""==i.default_cat||null==i.default_cat||void 0===i.default_cat?filters.cat=["*"]:filters.cat=[i.default_cat],""==i.default_tag||null==i.default_tag||void 0===i.default_tag?filters.tags=["*"]:filters.tags=[i.default_tag],filters.lang=["*"],filters.alpha=["*"];var r=getCookie(cookie_name);""!=r&&($arr=r.split("&"),$arr.forEach(splitCookie)),"masonry"!=i.layout&&"fitRows"!=i.layout&&"packery"!=i.layout||t("#isotope-main-"+e+" .isotope_item").css("width",100/parseInt(i.nbcol)-2+"%"),"vertical"==i.layout&&t("#isotope-main-"+e+" .isotope_item").css("width","100%"),t("#isotope-main-"+e+" .isotope_item").css("background",i.background),parseInt(i.imgmaxheight)>0&&t("#isotope-main-"+e+" .isotope_item img").css("max-height",i.imgmaxheight+"px"),parseInt(i.imgmaxwidth)>0&&t("#isotope-main-"+e+" .isotope_item img").css("max-width",i.imgmaxwidth+"px"),"true"==i.displayrange&&(min_range||(min_range=parseInt(i.minrange),max_range=parseInt(i.maxrange)),rangeSlider=new rSlider({target:"#rSlider",values:{min:parseInt(i.minrange),max:parseInt(i.maxrange)},step:parseInt(i.rangestep),set:[min_range,max_range],range:!0,tooltip:!0,scale:!0,labels:!0,onChange:function(){range_sel=rangeSlider.getValue(),range_init=rangeSlider.conf.values[0]+","+rangeSlider.conf.values[rangeSlider.conf.values.length-1],CG_Cookie_Set(e,"range",range_sel),n.isotope()}}));var n=t(a+".isotope_grid").imagesLoaded(function(){n.isotope({itemSelector:a+".isotope_item",percentPosition:!0,layoutMode:i.layout,getSortData:{title:"[data-title]",category:"[data-category]",date:"[data-date]",click:"[data-click] parseInt",rating:"[data-rating] parseInt",id:"[data-id] parseInt",blog:"[data-blog] parseInt"},sortBy:$sortby,sortAscending:$asc,filter:function(){return function(t){var e=!qsRegex||t.text().match(qsRegex),a=t.attr("data-category"),s=t.attr("class").split(" "),l=!1,o=!0;if(-1==filters.alpha.indexOf("*")&&(alpha=t.attr("data-title").substring(0,1),-1==filters.alpha.indexOf(alpha)))return!1;if(-1==filters.lang.indexOf("*")&&(lalang=t.attr("data-lang"),-1==filters.lang.indexOf(lalang)))return!1;if(rangeSlider){var r=t.attr("data-range");range_sel!=range_init&&(ranges=range_sel.split(","),o=r>=ranges[0]&&r<=ranges[1])}if("fields"!=i.article_cat_tag&&"catfields"!=i.article_cat_tag&&"tagsfields"!=i.article_cat_tag&&"cattagsfields"!=i.article_cat_tag){if(-1!=filters.cat.indexOf("*")&&-1!=filters.tags.indexOf("*"))return e&&o&&!0;if(count=0,-1==filters.cat.indexOf("*")){if(-1==filters.cat.indexOf(a))return!1;count=1}if(-1!=filters.tags.indexOf("*"))return e&&o&&!0;for(var n in s)-1!=filters.tags.indexOf(s[n])&&(l=!0,count+=1);return"true"==i.searchmultiex?(lgth=filters.cat.length+filters.tags.length,-1==filters.tags.indexOf("*")&&-1==filters.cat.indexOf("*")||(lgth-=1),e&&o&&count==lgth):e&&o&&l}if(ix=0,void 0===filters)return e&&o&&!0;for(x in filterslength=0,filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(filterslength++,-1!=filters[x].indexOf("*")&&ix++);if(catok=!1,-1==filters.cat.indexOf("*")){if(-1==filters.cat.indexOf(a))return!1;catok=!0}else catok=!0;if(tagok=!1,-1==filters.tags.indexOf("*"))for(var n in s)-1!=filters.tags.indexOf(s[n])&&(tagok=!0);else tagok=!0;if(ix==filterslength&&catok&&tagok)return e&&o&&!0;for(var c in count=0,s)for(x in filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&-1!=filters[x].indexOf(s[c])&&(count+=1);if("true"==i.searchmultiex){for(x in lgth=0,filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(lgth+=filters[x].length,-1!=filters[x].indexOf("*")&&(lgth-=1));return e&&o&&count==lgth&&tagok}return e&&o&&count==filterslength-ix&&catok&&tagok}(t(this))}}),_(),"random"==$sortby&&n.isotope("shuffle"),$width=$toggle.width(),$height=$toggle.height()});t(a+".isotope-div").on("refresh",function(){n.isotope()}),t(a+".sort-by-button-group").on("click","button",function(){var i=t(this).attr("data-sort-value");if("random"==i)return CG_Cookie_Set(e,"sort",i+"-"),void n.isotope("shuffle");sens=t(this).attr("data-sens"),i=i.split(","),t(this).hasClass("is-checked")?"-"==sens?(t(this).attr("data-sens","+"),asc=!0):(t(this).attr("data-sens","-"),asc=!1):(sens=t(this).attr("data-init"),t(this).attr("data-sens",sens),asc=!0,"-"==sens&&(asc=!1)),CG_Cookie_Set(e,"sort",i+"-"+asc),n.isotope({sortBy:i,sortAscending:asc})}),t(a+".sort-by-button-group").each(function(e,i){var a=jQuery(i);a.find(".is-checked").removeClass("is-checked"),a.children().each(function(e,i){var a=t(this).attr("data-sort-value");a=a.split(","),(Array.isArray($sortby)&&a[0]==$sortby[0]||"string"==typeof $sortby&&a[0]==$sortby)&&(jQuery(this).addClass("is-checked"),jQuery(this).attr("data-sens","+"),$asc||jQuery(this).attr("data-sens","-"))})}),t(a+".sort-by-button-group").each(function(e,i){var a=t(i);a.on("click","button",function(){a.find(".is-checked").removeClass("is-checked"),t(this).addClass("is-checked")})});var c=t(a+".quicksearch").keyup(debounce(function(){qsRegex=new RegExp(c.val(),"gi"),CG_Cookie_Set(e,"search",c.val()),n.isotope(),_()}));function d(t){$parent=t.attr("data-filter-group");var e=t.find(":selected").val();e==i.liball?filters[$parent]=["*"]:filters[$parent]=[e],update_cookie_filter(filters),n.isotope(),_()}function f(t){$parent=t.parent().attr("data-filter-group"),child=t.attr("data-child");var e=t.attr("data-sort-value");void 0===filters[$parent]&&(filters[$parent]={}),"*"==e?(filters[$parent]=["*"],child&&set_family_all(a,child,"button")):(filters[$parent]=[e],child&&set_family(a,"",child,e,"button")),update_cookie_filter(filters),n.isotope(),_()}function u(t){$parent=t.parent().attr("data-filter-group"),child=t.attr("data-child");var e=t.attr("data-sort-value");t.toggleClass("is-checked");var i=t.hasClass("is-checked");void 0===filters[$parent]&&(filters[$parent]=[]),"*"==e?(filters[$parent]=["*"],child&&set_family_all(a,child,"button")):(removeFilter(filters,$parent,"*"),removeFilter(filters,$parent,"none"),i?(addFilter(filters,$parent,e),child&&set_family(a,$parent,child,e,"button")):(removeFilter(filters,$parent,e),child&&(0==filters[$parent].length?(filters[$parent]=["*"],set_family_all(a,child,"button")):del_family(a,$parent,child,e,"button")))),update_cookie_filter(filters),n.isotope(),_()}function h(t){$parent=t.attr("data-filter-group"),child=t.find(":selected").attr("data-child");var e=t.find(":selected").val();void 0===filters[$parent]&&(filters[$parent]=["*"]),e==i.liball?(filters[$parent]=["*"],child&&set_family_all(a,child,"list")):(filters[$parent]=[e],child&&set_family(a,"",child,e,"list")),update_cookie_filter(filters),n.isotope(),_()}function p(e){$parent=t(this).parent().attr("data-filter-group"),e.on("click","button",function(){t(this).parent().find(".is-checked").removeClass("is-checked"),t(this).addClass("is-checked")})}function g(e){e.on("click","button",function(){$parent=t(this).parent().attr("data-filter-group"),"*"==t(this).attr("data-sort-value")?(t(this).parent().find(".is-checked").removeClass("is-checked"),t(this).addClass("is-checked")):0==filters[$parent].length||"*"==filters[$parent]?(t(this).parent().find('[data-sort-value="*"]').addClass("is-checked"),filters[$parent]=["*"],update_cookie_filter(filters),n.isotope()):t(this).parent().find('[data-sort-value="*"]').removeClass("is-checked")})}function _(){jQuery(a+".isotope_item").hasClass("iso_hide_elem")&&jQuery(a+".isotope_item").removeClass("iso_hide_elem");var t=n.isotope("getFilteredItemElements"),e=jQuery(t).length;if(o&&(0==e?jQuery(a+".iso_div_empty").removeClass("iso_hide_elem"):jQuery(a+".iso_div_empty").hasClass("iso_hide_elem")||jQuery(a+".iso_div_empty").addClass("iso_hide_elem")),s>0){var i=0;jQuery(t).each(function(){i>=s&&jQuery(this).addClass("iso_hide_elem"),i++}),i<s?jQuery(a+".iso_button_more").hide():jQuery(a+".iso_button_more").show()}0==s&&l>0&&(jQuery(t).each(function(){jQuery(this).hasClass("iso_hide_elem")&&(e-=1)}),e>l?jQuery(a+".iso_button_more").show():jQuery(a+".iso_button_more").hide()),n.isotope()}t(a+".ison-cancel-squared").on("click",function(){t(a+".quicksearch").val(""),qsRegex=new RegExp(c.val(),"gi"),CG_Cookie_Set(e,"search",c.val()),rangeSlider&&(range_sel=range_init,ranges=range_sel.split(","),rangeSlider.setValues(parseInt(ranges[0]),parseInt(ranges[1])),CG_Cookie_Set(e,"range",range_sel)),filters.cat=["*"],filters.tags=["*"],filters.lang=["*"],filters.alpha=["*"],t(a+".filter-button-group-cat").each(function(e,i){t(i).each(function(){t(this).find(".is-checked").removeClass("is-checked"),t(this).find('[data-sort-value="*"]').addClass("is-checked"),t(this).find('[data-all="all"]').attr("selected",!0)})}),t(a+".filter-button-group-tags").each(function(e,i){t(i).each(function(){t(this).find(".is-checked").removeClass("is-checked"),t(this).find('[data-sort-value="*"]').addClass("is-checked"),t(this).find('[data-all="all"]').attr("selected",!0)})}),t(a+".filter-button-group-fields").each(function(e,i){var a=t(i).attr("data-filter-group");filters[a]=["*"],t(this).find(".is-checked").removeClass("is-checked"),t(this).find(".iso_hide_elem").removeClass("iso_hide_elem"),t(this).find('[data-sort-value="*"]').addClass("is-checked"),t(this).find('[data-all="all"]').attr("selected",!0)}),t(a+".iso_lang").each(function(e,i){t(i).each(function(){t(this).find(".is-checked").removeClass("is-checked"),t(this).find('[data-sort-value="*"]').addClass("is-checked"),t(this).find('[data-all="all"]').attr("selected",!0)})}),t(a+".filter-button-group-alpha").each(function(e,i){t(i).each(function(){t(this).find(".is-checked").removeClass("is-checked"),t(this).find('[data-sort-value="*"]').addClass("is-checked"),t(this).find('[data-all="all"]').attr("selected",!0)})}),update_cookie_filter(filters),n.isotope(),_(),t(a+".quicksearch").focus()}),"list"!=i.displayfilter&&"listex"!=i.displayfilter||(t(a+".filter-button-group-tags").on("change",function(){d(t(this))}),t(a+".filter-button-group-fields").on("change",function(){h(t(this))})),"list"!=i.displayfiltercat&&"listex"!=i.displayfiltercat||(t(a+".filter-button-group-cat").on("change",function(){d(t(this))}),t(a+".filter-button-group-fields").on("change",function(){h(t(this))}),"tagsfields"!=i.article_cat_tag&&"cattagsfields"!=i.article_cat_tag||t(a+".filter-button-group-tags").on("change",function(){d(t(this))})),"multi"!=i.displayfiltercat&&"multiex"!=i.displayfiltercat||(t(a+".filter-button-group-cat").on("click","button",function(){u(t(this))}),t(a+".filter-button-group-cat").each(function(e,i){g(t(i))}),"tagsfields"==i.article_cat_tag&&(t(a+".filter-button-group-tags").on("click","button",function(){u(t(this))}),t(a+".filter-button-group-tags").each(function(e,i){g(t(i))}))),"multi"!=i.displayfilter&&"multiex"!=i.displayfilter||(t(a+".filter-button-group-tags").on("click","button",function(){u(t(this))}),t(a+".filter-button-group-tags").each(function(e,i){g(t(i))}),t(a+".filter-button-group-fields").on("click","button",function(){u(t(this))}),t(a+".filter-button-group-fields").each(function(e,i){g(t(i))})),"multi"==i.language_filter&&(t(a+".iso_lang").on("click","button",function(){u(t(this))}),t(a+".iso_lang").each(function(e,i){g(t(i))})),"multi"==i.displayalpha&&(t(a+".filter-button-group-alpha").on("click","button",function(){u(t(this))}),t(a+".filter-button-group-alpha").each(function(e,i){g(t(i))})),"button"==i.displayfiltercat&&(t(a+".filter-button-group-cat").on("click","button",function(){f(t(this))}),t(a+".filter-button-group-cat").each(function(e,i){p(t(i))}),"tagsfields"!=i.article_cat_tag&&"cattagsfields"!=i.article_cat_tag||(t(a+".filter-button-group-tags").on("click","button",function(){f(t(this))}),t(a+".filter-button-group-tags").each(function(e,i){p(t(i))}))),"button"==i.displayfilter&&(t(a+".filter-button-group-tags").on("click","button",function(){f(t(this))}),t(a+".filter-button-group-tags").each(function(e,i){p(t(i))}),t(a+".filter-button-group-fields").on("click","button",function(){f(t(this))}),t(a+".filter-button-group-fields").each(function(e,i){p(t(i))})),"button"==i.language_filter&&(t(a+".iso_lang").on("click","button",function(){f(t(this))}),t(a+".iso_lang").each(function(e,i){p(t(i))})),"button"==i.displayalpha&&(t(a+".filter-button-group-alpha").on("click","button",function(){f(t(this))}),t(a+".filter-button-group-alpha").each(function(e,i){p(t(i))})),t(a+".iso_button_more").on("click",function(e){e.preventDefault(),s>0?(s=0,t(this).text(i.libless)):(s=i.limit_items,t(this).text(i.libmore)),_()})}function debounce(t,e){var i;return function(){i&&clearTimeout(i),i=setTimeout(function(){t(),i=null},e||100)}}function addFilter(t,e,i){-1==t[e].indexOf(i)&&t[e].push(i)}function removeFilter(t,e,i){var a=t[e].indexOf(i);-1!=a&&t[e].splice(a,1)}function update_cookie_filter(t){for(x in $filter_cookie="",t)$filter_cookie.length>0&&($filter_cookie+=">"),$filter_cookie+=x+"<"+t[x].toString();$filter_cookie.length>0&&($filter_cookie+=">"),CG_Cookie_Set(myid,"filter",$filter_cookie)}function getCookie(t){let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):""}function CG_Cookie_Set(t,e,i){$secure="","https:"==window.location.protocol&&($secure="secure;"),lecookie=getCookie(cookie_name),$val=e+":"+i,$cook=$val,""!=lecookie&&(lecookie.indexOf(e)>=0?($cook="",$arr=lecookie.split("&"),$arr.forEach(replaceCookie,$val)):$cook=lecookie+"&"+$val),document.cookie=cookie_name+"="+$cook+"; path=/; samesite=lax;"+$secure}function replaceCookie(t,e,i){this.startsWith("search:")&&t.indexOf("search:")>=0&&(i[e]=this),this.startsWith("sort:")&&t.indexOf("sort:")>=0&&(i[e]=this),this.startsWith("filter:")&&t.indexOf("filter:")>=0&&(i[e]=this),this.startsWith("range:")&&t.indexOf("range:")>=0&&(i[e]=this),$cook.length>0&&($cook+="&"),$cook+=i[e]}function splitCookie(t){if(me="#isotope-main-"+myid+" ",t.indexOf("search:")>=0&&(val=t.split(":"),qsRegex=new RegExp(val[1],"gi"),jQuery(me+".quicksearch").val(val[1])),t.indexOf("sort:")>=0&&(val=t.split(":"),val=val[1].split("-"),$sortby=val[0].split(","),$asc="true"==val[1],jQuery(me+".sort-by-button-group").each(function(t,e){var i=jQuery(e);"*"!=val[0]&&(i.find(".is-checked").removeClass("is-checked"),i.children().each(function(t,e){jQuery(this).attr("data-sort-value")==val[0]&&(jQuery(this).addClass("is-checked"),jQuery(this).attr("data-sens","+"),"true"!=val[1]&&jQuery(this).attr("data-sens","-"))}))})),t.indexOf("filter:")>=0&&(val=t.split(":"),val[1].length>0))for(val=val[1].split(">"),x=0;x<val.length-1;x++)if(values=val[x].split("<"),"cat"==values[0]||"tags"==values[0]||"lang"==values[0]||"alpha"==values[0]){if("*"!=values[1])for(filters[values[0]]=values[1].split(","),"lang"==values[0]?jQuery(me+".iso_lang").find(".is-checked").removeClass("is-checked"):jQuery(me+".filter-button-group-"+values[0]).find(".is-checked").removeClass("is-checked"),v=0;v<filters[values[0]].length;v++)"tags"==values[0]&&"list"==options.displayfilter&&"tagsfields"!=options.article_cat_tag&&"cattagsfields"!=options.article_cat_tag||"cat"==values[0]&&"list"==options.displayfiltercat?jQuery(me+".filter-button-group-"+values[0]+" .isotope_select").val(filters[values[0]][v]).attr("selected",!0):jQuery(me+".iso_button_"+values[0]+"_"+filters[values[0]][v]).addClass("is-checked")}else if("*"!=values[1])for(jQuery(me+".class_fields_"+values[0]).find(".is-checked").removeClass("is-checked"),filters[values[0]]=values[1].split(","),v=0;v<filters[values[0]].length;v++)"list"==options.displayfilter||"listex"==options.displayfilter?($this=jQuery(me+".class_fields_"+values[0]+" .isotope_select").val(filters[values[0]][v]),$this.attr("selected",!0),child=$this.find(":selected").attr("data-child"),child&&(sortValue=filters[values[0]][v],set_family(me,"",child,sortValue,"list"))):($this=jQuery(me+".iso_button_"+values[0]+"_"+filters[values[0]][v]),$this.addClass("is-checked"),child=$this.attr("data-child"),child&&(sortValue=$this.attr("data-sort-value"),set_family(me,"",child,sortValue,"button")));t.indexOf("range:")>=0&&(val=t.split(":"),val[1].length>0&&(spl=val[1].split(","),min_range=parseInt(spl[0]),max_range=parseInt(spl[1])))}function set_family(t,e,i,a,s){for(parents=[];i;){if("list"==s?($this=jQuery(t+".filter-button-group-fields").find('[data-group-id="'+i+'"]'),$this.find("option").addClass("iso_hide_elem"),i=$this.find('[data-all="all"]').removeClass("iso_hide_elem").attr("selected",!0).attr("data-child")):($this=jQuery(t+".filter-button-group-fields").parent().find('[data-group-id="'+i+'"]'),(""==e||""!=e&&1==filters[e].length&&"*"!=filters[e])&&$this.find("button").addClass("iso_hide_elem").removeClass("is-checked"),i=$this.find("button.iso_button_tout").removeClass("iso_hide_elem").addClass("is-checked").attr("data-child")),0==parents.length){if($this.find('[data-parent="'+a+'"]').removeClass("iso_hide_elem"),newparents=$this.find('[data-parent="'+a+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)$val="list"==s?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=$val&&parents.push($val)}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(a=parents[$i])&&($this.find('[data-parent="'+a+'"]').removeClass("iso_hide_elem"),$vals=$this.find('[data-parent="'+a+'"]'),$vals.length>0))for($j=0;$j<$vals.length;$j++)$val="list"==s?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=$val&&newparents.push($val);parents=newparents}childstr=$this.attr("data-filter-group"),filters[childstr]=["*"],a=""}}function del_family(t,e,i,a,s){for(parents=[];i;){if($this=jQuery(t+".filter-button-group-fields").parent().find('[data-group-id="'+i+'"]'),$this.find('[data-parent="'+a+'"]').addClass("iso_hide_elem").removeClass("is-checked"),i=$this.find("button.iso_button_tout").removeClass("iso_hide_elem").addClass("is-checked").attr("data-child"),0==parents.length){if(newparents=$this.find('[data-parent="'+a+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)$val="list"==s?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=$val&&(parents.push($val),newparents[$i].addClass("iso_hide_elem"))}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(a=parents[$i])&&($vals=$this.find('[data-parent="'+a+'"]'),$vals.length>0))for($j=0;$j<$vals.length;$j++)$val="list"==s?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=$val&&(newparents.push($val),$vals[$j].addClass("iso_hide_elem"));parents=newparents}childstr=$this.attr("data-filter-group"),filters[childstr]=["*"],a=""}}function set_family_all(t,e,i){for(parents=[];e;){for($this="list"==i?jQuery(t+".filter-button-group-fields"):jQuery(t+".filter-button-group-fields").parent(),parents=$this.find('[data-child="'+e+'"]'),$i=0;$i<parents.length;$i++)jQuery(parents[$i]).hasClass("iso_hide_elem")||($val="list"==i?parents[$i].getAttribute("value"):parents[$i].getAttribute("data-sort-value"),$val&&"*"!=$val&&$this.find('[data-parent="'+$val+'"]').removeClass("iso_hide_elem"));"list"==i?e=$this.find('[data-group-id="'+e+'"]').find('[data-all="all"]').attr("data-child"):($this.find('[data-group-id="'+e+'"]').find("button").removeClass("is-checked"),$this.find('[data-group-id="'+e+'"]').find("button.iso_button_tout").addClass("is-checked"),$this=jQuery(t+".filter-button-group-fields").parent().find('[data-group-id="'+e+'"]'),e=$this.find("button.iso_button_tout").attr("data-child")),childstr=$this.attr("data-filter-group"),filters[childstr]=["*"]}}function go_click(t,e){event.preventDefault(),"webLinks"==t||window.event.ctrlKey?window.open(e,"_blank"):location=e}jQuery(document).ready(function(t){if(t(".isotope-main").each(function(){var e=t(this);if(myid=e.attr("data"),"undefined"==typeof Joomla||void 0===Joomla.getOptions?console.log("Simple Isotope : Joomla /Joomla.getOptions  undefined"):options=Joomla.getOptions("mod_simple_isotope_"+myid),void 0===options&&(request={option:"com_ajax",module:"simple_isotope",data:"param",id:myid,format:"raw"},jQuery.ajax({type:"POST",data:request,success:function(e){return cookie_name="simple_isotope_"+myid,options=JSON.parse(e),iso_cat_k2(t,myid,options),init_readmore(t),!0}})),void 0===options)return!1;cookie_name="simple_isotope_"+myid,iso_cat_k2(t,myid,options)}),void 0===options)return!1;init_readmore(t)});