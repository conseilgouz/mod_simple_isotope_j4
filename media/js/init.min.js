var cgisotope=[];function CGIsotope(t,e){if($myiso=this,this.isoid=t,this.qsRegex=null,this.close=null,this.loadCount=0,this.std_parents=["cat","tags","lang","alpha"],this.parent="cat",this.cookie_name="cg_isotope_"+this.isoid,this.me="#isotope-main-"+this.isoid+" ",this.options=e,this.filters={},this.items_limit=this.options.limit_items,this.sav_limit=this.options.limit_items,this.empty_message="true"==this.options.empty,this.asc="true"==this.options.ascending,this.sort_by=this.options.sortby,this.grid_toggle=document.querySelector(".isotope_grid"),this.iso_article=document.querySelector(".isotope_an_article"),this.iso_div=document.querySelector(".isotope-main .isotope-div"),this.article_frame=document.querySelector("iframe#isotope_article_frame"),this.article_frame&&this.article_frame.addEventListener("load",function(){$myiso.removeClass($myiso.iso_article,"article-loading"),$myiso.close&&$myiso.removeClass($myiso.close,"isotope-hide"),$myiso.article_frame.style.height=$myiso.iso_height,$myiso.article_frame.style.width=$myiso.iso_width+"px"}),-1!==this.sort_by.indexOf("featured"))for(this.sortValue=this.sort_by.split(","),this.asc={},i=0;i<this.sortValue.length;i++)"featured"==this.sortValue[i]?this.asc[this.sortValue[i]]=!1:this.asc[this.sortValue[i]]="true"==this.options.ascending;if(0==this.options.limit_items&&(document.querySelector(this.me+".iso_button_more").style.display="none"),""==this.options.default_cat||null==this.options.default_cat||void 0===this.options.default_cat?this.filters.cat=["*"]:this.filters.cat=[this.options.default_cat],""==this.options.default_tag||null==this.options.default_tag||void 0===this.options.default_tag?this.filters.tags=["*"]:this.filters.tags=[this.options.default_tag],this.filters.lang=["*"],this.filters.alpha=["*"],"ajax"==this.options.readmore||"iframe"==this.options.readmore){this.iso_height=this.grid_toggle.offsetHeight,this.iso_width=this.grid_toggle.offsetWidth,readmoretitles=document.querySelectorAll(".isotope-readmore-title");for(var s=0;s<readmoretitles.length;s++)["click","touchstart"].forEach(t=>{readmoretitles[s].addEventListener(t,function(t){if($pos=$myiso.iso_div.offsetTop,document.querySelector("body").scrollTo($pos,1e3),t.stopPropagation(),t.preventDefault(),$myiso.addClass($myiso.grid_toggle,"isotope-hide"),$myiso.addClass($myiso.iso_article,"isotope-open"),$myiso.removeClass($myiso.iso_article,"isotope-hide"),$myiso.iso_article.offsetHeight="auto",$myiso.addClass($myiso.iso_article,"article-loading"),"ajax"==$myiso.options.readmore){document.querySelector("#isotope_an_article").innerHTML="";var e=document.getElementById("token");token=e.getAttribute("name"),$myiso.options.ismodule?url="?option=com_ajax&module=simple_isotope&article="+this.dataset.articleid+"&entree=articles&data=readmore&format=json&id="+$myiso.isoid:url="?"+token+"=1&option=com_cgisotope&task=display&article="+this.dataset.articleid+"&entree=articles&format=json",Joomla.request({method:"POST",url:url,onSuccess:function(t,e){var s=JSON.parse(t);$myiso.removeClass($myiso.iso_article,"article-loading"),$myiso.iso_article.style.height=$myiso.iso_height,$myiso.iso_article.style.width=$myiso.iso_width+"px",s.success||(s.success=!0),$myiso.displayArticle(s),["click","touchstart"].forEach(t=>{$myiso.close.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()})})},onError:function(t){console.log(t.responseText)}})}else"iframe"==$myiso.options.readmore&&(0==$myiso.iso_height&&($myiso.iso_height="100vh"),$myiso.article_frame.style.height=0,$myiso.article_frame.style.width=0,achar="?",this.dataset.href.indexOf("?")>0&&(achar="&"),$myiso.article_frame.setAttribute("src",this.dataset.href+achar+"tmpl=component"),$myiso.addClass($myiso.iso_article,"article-loading"),$myiso.close=document.querySelector("button.close"),$myiso.addClass($myiso.close,"isotope-hide"),["click","touchstart"].forEach(t=>{$myiso.close.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()})}));["click","touchstart"].forEach(t=>{$myiso.grid_toggle.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()})})})})}["click","touchstart"].forEach(t=>{$myiso.iso_div.addEventListener(t,function(t){$myiso.resetToggle()})})}document.addEventListener("DOMContentLoaded",function(){mains=document.querySelectorAll(".isotope-main");for(var t=0;t<mains.length;t++){let e=mains[t],s=!1;if(e.getAttribute("ismodule")&&"true"==e.getAttribute("ismodule")&&(s=!0),isoid=e.getAttribute("data"),"undefined"==typeof Joomla||void 0===Joomla.getOptions)return console.error("Joomla.getOptions not found!\nThe Joomla core.js file is not being loaded."),!1;if(options_iso=s?Joomla.getOptions("mod_simple_isotope_"+isoid):Joomla.getOptions("cg_isotope_"+isoid),"undefined"==typeof options_iso)return!1;options_iso.ismodule=s,cgisotope[isoid]=new CGIsotope(isoid,options_iso),cgisotope[isoid].goisotope(isoid)}}),CGIsotope.prototype.goisotope=function(t){if($myiso=cgisotope[t],this.cookie=this.getCookie(this.cookie_name),""!=this.cookie){let t=this.cookie.split("&");for(let e=0;e<t.length;++e)this.splitCookie(this.isoid,t[e])}$items=document.querySelectorAll("#isotope-main-"+this.isoid+" .isotope_item");for(var e=0;e<$items.length;e++)"masonry"!=this.options.layout&&"fitRows"!=this.options.layout&&"packery"!=this.options.layout||($items[e].style.width=100/parseInt(this.options.nbcol)-2+"%"),"vertical"==this.options.layout&&($items[e].style.width="100%"),$items[e].style.background=this.options.background;$imgs=document.querySelectorAll("#isotope-main-"+this.isoid+" .isotope_item img");for(e=0;e<$imgs.length;e++)parseInt(this.options.imgmaxheight)>0&&($imgs[e].style.maxHeight=this.options.imgmaxheight+"px"),parseInt(this.options.imgmaxwidth)>0&&($imgs[e].style.maxWidth=this.options.imgmaxwidth+"px");"string"==typeof this.sort_by&&(this.sort_by=this.sort_by.split(","));var s=document.querySelector(this.me+".isotope_grid");if(this.iso=new Isotope(s,{itemSelector:"none",percentPosition:!0,layoutMode:this.options.layout,getSortData:{title:"[data-title]",category:"[data-category]",date:"[data-date]",click:"[data-click] parseInt",rating:"[data-rating] parseInt",id:"[data-id] parseInt",featured:"[data-featured] parseInt"},sortBy:this.sort_by,sortAscending:this.asc,isJQueryFiltering:!1,filter:function(t){if(t)return $myiso.grid_filter(t)}}),imagesLoaded(s,function(){$myiso.iso.options.itemSelector=".isotope_item";var t=Array.prototype.slice.call($myiso.iso.element.querySelectorAll(".isotope_item"));$myiso.iso.appended(t),$myiso.updateFilterCounts(),"random"==$myiso.sort_by&&$myiso.iso.shuffle(),void 0!==$myiso.toogle&&($myiso.iso_width=$myiso.grid_toggle.width(),$myiso.iso_height=$myiso.grid_toggle.height())}),"true"==this.options.displayrange&&(this.min_range||(this.min_range=parseInt(this.options.minrange),this.max_range=parseInt(this.options.maxrange)),this.rangeSlider=new rSlider({target:"#rSlider",values:{min:parseInt(this.options.minrange),max:parseInt(this.options.maxrange)},step:parseInt(this.options.rangestep),set:[this.min_range,this.max_range],range:!0,tooltip:!0,scale:!0,labels:!0,onChange:this.rangeUpdated})),iso_div=document.querySelector(this.me+".isotope-div"),iso_div.addEventListener("refresh",function(){this.iso.arrange()}),"infinite"==this.options.pagination){var i=Isotope.data(".isotope_grid"),o=new InfiniteScroll(".isotope_grid",{path:function(){return currentpage=this.loadCount,"?start="+(currentpage+1)*$myiso.options.page_count},append:".isotope_item",outlayer:i,status:".page-load-status"});let t=document.querySelector(this.me+".iso_button_more");if("true"==this.options.infinite_btn){o.option({button:".iso_button_more",loadOnScroll:!1});let e=document.querySelector(".iso_button_more");t.style.display="block",["click","touchstart"].forEach(t=>{e.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),o.loadNextPage(),o.option({loadOnScroll:!0}),e.style.display="none",event.preventDefault()})})}else t.style.display="hide";o.on("append",function(t,e,s,i){$myiso.infinite_buttons(s)})}if(hamburgerbtn=document.getElementById("offcanvas-hamburger-btn"),hamburgerbtn&&(["click"].forEach(t=>{hamburgerbtn.addEventListener(t,function(t){var e=function(t,s=!1){!1===s||s>0?(0!=s&&s--,setTimeout(function(){e(t,s)},100)):("undefined"!=typeof rangeSlider&&rangeSlider.onResize(),t())};e(function(){document.querySelector(".offcanvas")},3)})}),"*"!=this.filters.cat[0]||"*"!=this.filters.tags[0])){grouptype=["cat","tags"],optionstype=[options.displayfiltercat,options.displayfiltertags];for(var l=0;l<grouptype.length;l++)if("*"!=this.filters[grouptype[l]][0]&&(clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+this.filters[grouptype[l]]+'"]'),!clone_exist)){agroup=document.querySelectorAll(this.me+".filter-button-group-"+grouptype[l]+" button");for(e=0;e<agroup.length;e++)agroup[e].getAttribute("data-sort-value")==this.filters[grouptype[l]]&&(this.create_clone_button(grouptype[l],this.filters[grouptype[l]],agroup[e].textContent,optionstype[l],""),this.create_clone_listener(this.filters[grouptype[l]]))}}var a=document.querySelectorAll(this.me+".sort-by-button-group button");for(e=0;e<a.length;e++)["click","touchstart"].forEach(t=>{a[e].addEventListener(t,function(t){let e=this.parentNode.getAttribute("data"),s=cgisotope[e];t.stopPropagation(),t.preventDefault(),s.update_sort_buttons(this);for(var i=0;i<a.length;i++)a[i].classList.remove("is-checked");this.classList.add("is-checked")})});this.quicksearch=document.querySelector(this.me+".quicksearch"),this.quicksearch&&this.quicksearch.addEventListener("keyup",this.debounce(function(){$myiso.qsRegex=new RegExp($myiso.quicksearch.value,"gi"),$myiso.CG_Cookie_Set($myiso.isoid,"search",$myiso.quicksearch.value),$myiso.iso.arrange(),$myiso.updateFilterCounts()}));for(var r=document.querySelectorAll(this.me+".ison-cancel-squared"),n=0;n<r.length;n++)["click","touchstart"].forEach(t=>{r[n].addEventListener(t,function(t){let e=this.getAttribute("data");e||(e=this.parentNode.getAttribute("data"));let s=cgisotope[e];t.stopPropagation(),t.preventDefault(),s.quicksearch&&(s.quicksearch.value=""),s.qsRegex=new RegExp("","gi"),s.CG_Cookie_Set(s.isoid,"search",""),s.rangeSlider&&(range_sel=s.range_init,ranges=range_sel.split(","),s.rangeSlider.setValues(parseInt(ranges[0]),parseInt(ranges[1])),s.CG_Cookie_Set(s.isoid,"range",range_sel)),s.filters.cat=["*"],s.filters.tags=["*"],s.filters.lang=["*"],s.filters.alpha=["*"],grouptype=["cat","tags","alpha","fields"];for(var i=0;i<grouptype.length;i++){agroup=document.querySelectorAll(s.me+".filter-button-group-"+grouptype[i]+" button");for(var o=0;o<agroup.length;o++)agroup[o].classList.remove("is-checked"),"*"==agroup[o].getAttribute("data-sort-value")&&s.addClass(agroup[o],"is-checked"),"all"==agroup[o].getAttribute("data-all")&&agroup[o].setAttribute("selected",!0),"fields"==grouptype[i]&&(s.removeClass(agroup[o],"iso_hide_elem"),myparent=agroup[o].parentNode.getAttribute("data-filter-group"),myparent&&(s.filters[myparent]=["*"]))}agroup=document.querySelectorAll(s.me+".iso_lang button");for(o=0;o<agroup.length;o++)agroup[o].classList.remove("is-checked"),"*"==agroup[o].getAttribute("data-sort-value")&&s.addClass(agroup[o],"is-checked"),"all"==agroup[o].getAttribute("data-all")&&agroup[o].setAttribute("selected",!0);agroup=document.querySelectorAll(s.me+'select[id^="isotope-select-"]');for(o=0;o<agroup.length;o++){var l=agroup[o].parentElement.parentElement.parentElement.getAttribute("data-filter-group"),a=document.querySelector("joomla-field-fancy-select#isotope-select-"+l).choicesInstance;a.removeActiveItems(),a.setChoiceByValue(""),s.filters[l]=["*"]}$buttons=document.querySelectorAll("#clonedbuttons .is-checked");for(o=0;o<$buttons.length;o++)$buttons[o].remove();s.update_cookie_filter(),s.iso.arrange(),s.updateFilterCounts(),s.quicksearch&&s.quicksearch.focus()})});"listmulti"==this.options.displayfiltertags&&this.events_listmulti("tags"),"listmulti"==this.options.displayfiltercat&&this.events_listmulti("cat"),"listmulti"==this.options.displayfilterfields&&this.events_listmulti("fields"),"list"!=this.options.displayfiltercat&&"listex"!=this.options.displayfiltercat||this.events_list("cat"),"list"!=this.options.displayfiltertags&&"listex"!=this.options.displayfiltertags||this.events_list("tags"),"list"!=this.options.displayfilterfields&&"listex"!=this.options.displayfilterfields||this.events_list("fields"),"multi"!=this.options.displayfiltercat&&"multiex"!=this.options.displayfiltercat||this.events_multibutton("cat"),"multi"!=this.options.displayfiltertags&&"multiex"!=this.options.displayfiltertags||this.events_multibutton("tags"),"multi"!=this.options.displayfilterfields&&"multiex"!=this.options.displayfilterfields||this.events_multibutton("fields"),"multi"==this.options.language_filter&&this.events_multibutton("lang"),"multi"==this.options.displayalpha&&this.events_multibutton("alpha"),"button"==this.options.displayfiltercat&&this.events_button("cat"),"button"==this.options.displayfiltertags&&this.events_button("tags"),"button"==this.options.displayfilterfields&&this.events_button("fields"),"button"==this.options.language_filter&&this.events_button("lang"),"button"==this.options.displayalpha&&this.events_button("alpha"),more=document.querySelector(this.me+".iso_button_more"),more&&["click","touchstart"].forEach(t=>{more.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.items_limit>0?($myiso.items_limit=0,this.textContent=$myiso.options.libless):($myiso.items_limit=$myiso.options.limit_items,this.textContent=$myiso.options.libmore),$myiso.updateFilterCounts()})});var c=document.getElementById("offcanvas_isotope");c&&(c.addEventListener("hidden.bs.offcanvas",function(){let t=this.parentNode.parentNode.getAttribute("data");document.getElementById("offcanvas_isotope").classList.remove("offcanvas25"),document.getElementsByClassName("isotope_grid")[0].classList.remove("isogrid75"),document.getElementsByClassName("isotope_grid")[0].classList.remove("offstart"),document.getElementsByClassName("isotope_grid")[0].classList.remove("offend"),cgisotope[t].iso.arrange()}),c.addEventListener("show.bs.offcanvas",function(){let t=this.parentNode.parentNode.getAttribute("data");document.getElementById("offcanvas_isotope").classList.add("offcanvas25"),document.getElementById("offcanvas_isotope").classList.contains("offcanvas-start")&&document.getElementsByClassName("isotope_grid")[0].classList.add("offstart"),document.getElementById("offcanvas_isotope").classList.contains("offcanvas-end")&&document.getElementsByClassName("isotope_grid")[0].classList.add("offend"),cgisotope[t].iso.arrange()}))},CGIsotope.prototype.displayArticle=function(t){var e="";if(t.success){this.options.ismodule&&(t=t.data.data);for(var s=0;s<t.length;s++){if(e+="<h1>"+t[s].title+'<button type="button" class="close">X</button></h1>',e+=t[s].fulltext,""==t[s].fulltext&&(e+=t[s].introtext),t[s].scripts.length>0)for(var i=0;i<t[s].scripts.length;i++){var o=document.createElement("script");o.addEventListener("load",function(){console.log("Successfully loaded scripts")}),o.src=t[s].scripts[i],document.head.appendChild(o)}if(t[s].css.length>0)for(i=0;i<t[s].css.length;i++){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.addEventListener("load",function(){console.log("Successfully loaded css")}),l.href=t[s].css[i],document.head.appendChild(l)}}this.iso_article.innerHTML=e,this.close=document.querySelector("button.close")}else if(e=t.message,t.messages&&t.messages.error)for(var a=0;a<t.messages.error.length;a++)e+="<br/>"+t.messages.error[a]},CGIsotope.prototype.rangeUpdated=function(){let t=this.target,e=document.querySelector(t).getAttribute("data"),s=cgisotope[e];s.range_sel=s.rangeSlider.getValue(),s.range_init=s.rangeSlider.conf.values[0]+","+s.rangeSlider.conf.values[s.rangeSlider.conf.values.length-1],s.CG_Cookie_Set(s.isoid,"range",s.range_sel),s.iso.arrange()},CGIsotope.prototype.events_listmulti=function(t){agroup=document.querySelectorAll(this.me+'select[id^="isotope-select-'+t+'"]');for(var e=0;e<agroup.length;e++)agroup[e].addEventListener("choice",function(t,e){$myiso.filter_list_multi(this,t,"choice")}),agroup[e].addEventListener("removeItem",function(t,e){$myiso.filter_list_multi(this,t,"remove")}),$parent=agroup[e].parentElement.parentElement.parentElement.getAttribute("data-filter-group"),void 0===$myiso.filters[$parent]&&($myiso.filters[$parent]=["*"]);if("*"!=this.filters[$parent][0]&&1==this.filters[$parent].length){var s=document.querySelector("joomla-field-fancy-select#isotope-select-"+t),i=s.choicesInstance,o=this.filters[$parent][0];i.removeActiveItemsByValue(""),i.setChoiceByValue(o),"offcanvas-body"==s.parentElement.parentElement.className&&(clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+this.filters[t]+'"]'),clone_exist||(sel=o,lib=i.getValue()[0].label,child=null,this.create_clone_button(t,sel,lib,"list",child),this.create_clone_listener(sel)))}},CGIsotope.prototype.events_list=function(t){agroup=document.querySelectorAll(this.me+".filter-button-group-"+t);for(var e=0;e<agroup.length;e++)agroup[e].addEventListener("choice",function(t,e){$myiso.filter_list(this,t,"choice")}),agroup[e].addEventListener("removeItem",function(t,e){$myiso.filter_list(this,t,"remove")});var s=document.querySelector("joomla-field-fancy-select#isotope-select-"+t);if(s){var i=s.choicesInstance;i.setChoiceByValue(this.filters[t]),"offcanvas-body"==s.parentElement.parentElement.className&&"*"!=this.filters[t]&&(clone_exist=document.querySelector(me+'#clonedbuttons button[data-sort-value="'+this.filters[t]+'"]'),clone_exist||(sel=this.filters[t],lib=i.getValue().label,child=null,this.create_clone_button(t,sel,lib,"list",child),this.create_clone_listener(sel)))}},CGIsotope.prototype.events_button=function(t){agroup="lang"==t?document.querySelectorAll(this.me+".iso_lang button"):document.querySelectorAll(this.me+".filter-button-group-"+t+" button");for(var e=0;e<agroup.length;e++)["click","touchstart"].forEach(t=>{agroup[e].addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.filter_button(this,t),mygroup=this.parentNode.querySelectorAll("button");for(var e=0;e<mygroup.length;e++)$myiso.removeClass(mygroup[e],"is-checked");$myiso.addClass(this,"is-checked")})})},CGIsotope.prototype.events_multibutton=function(t){agroup="lang"==t?document.querySelectorAll(this.me+".iso_lang button"):document.querySelectorAll(this.me+".filter-button-group-"+t+" button");for(var e=0;e<agroup.length;e++)["click","touchstart"].forEach(t=>{agroup[e].addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),$myiso.filter_multi(this,t),$myiso.set_buttons_multi(this)})})},CGIsotope.prototype.update_sort_buttons=function(t){var e=t.getAttribute("data-sort-value");if("random"==e)return this.CG_Cookie_Set(this.isoid,"sort",e+"-"),void this.iso.shuffle();for(sens=t.getAttribute("data-sens"),e=e.split(","),this.hasClass(t,"is-checked")?"-"==sens?(t.setAttribute("data-sens","+"),asc=!0):(t.setAttribute("data-sens","-"),asc=!1):(sens=t.getAttribute("data-init"),t.setAttribute("data-sens",sens),asc=!0,"-"==sens&&(asc=!1)),sortAsc={},i=0;i<e.length;i++)"featured"==e[i]?sortAsc[e[i]]=!1:sortAsc[e[i]]=asc;this.CG_Cookie_Set(this.isoid,"sort",e+"-"+asc),this.iso.options.sortBy=e,this.iso.options.sortAscending=sortAsc,this.iso.arrange()},CGIsotope.prototype.infinite_buttons=function(t){if("false"!=this.options.displayalpha)for(x=0;x<t.length-1;x++)if(alpha=t[x].attributes["data-alpha"].value,mybutton=document.querySelector(this.me+".filter-button-group-alpha .iso_button_alpha_"+alpha),!mybutton){buttons=document.querySelector(this.me+".filter-button-group-alpha");var e=document.createElement("button");e.classList.add("btn"),e.classList.add(this.options.button_bootstrap.substr(4,100).trim()),e.classList.add("iso_button_alpha_"+alpha),e.setAttribute("data-sort-value",alpha),e.title=alpha,e.innerHTML=alpha,buttons.append(e)}},CGIsotope.prototype.grid_filter=function(t){var e=!this.qsRegex||t.textContent.match(this.qsRegex),s=t.getAttribute("data-category"),i=t.getAttribute("class").split(" "),o=!1,l=!0;if(-1==this.filters.alpha.indexOf("*")&&(alpha=t.getAttribute("data-title").substring(0,1),-1==this.filters.alpha.indexOf(alpha)))return!1;if(-1==this.filters.lang.indexOf("*")&&(lalang=t.getAttribute("data-lang"),-1==this.filters.lang.indexOf(lalang)))return!1;if(this.rangeSlider){var a=t.getAttribute("data-range");this.range_sel!=this.range_init&&(ranges=this.range_sel.split(","),l=parseInt(a)>=parseInt(ranges[0])&&parseInt(a)<=parseInt(ranges[1]))}if("fields"!=this.options.article_cat_tag&&"catfields"!=this.options.article_cat_tag&&"tagsfields"!=this.options.article_cat_tag&&"cattagsfields"!=this.options.article_cat_tag){if(-1!=this.filters.cat.indexOf("*")&&-1!=this.filters.tags.indexOf("*"))return e&&l&&!0;if(count=0,-1==this.filters.cat.indexOf("*")){if(-1==this.filters.cat.indexOf(s))return!1;count=1}if(-1!=this.filters.tags.indexOf("*"))return e&&l&&!0;for(var r in i)-1!=this.filters.tags.indexOf(i[r])&&(o=!0,count+=1);return"true"==this.options.searchmultiex?(lgth=this.filters.cat.length+this.filters.tags.length,-1==this.filters.tags.indexOf("*")&&-1==this.filters.cat.indexOf("*")||(lgth-=1),e&&l&&count==lgth):e&&l&&o}if(ix=0,void 0===this.filters)return e&&l&&!0;for(x in filterslength=0,this.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(filterslength++,-1!=this.filters[x].indexOf("*")&&ix++);if(catok=!1,-1==this.filters.cat.indexOf("*")){if(-1==this.filters.cat.indexOf(s))return!1;catok=!0}else catok=!0;if(tagok=!1,-1==this.filters.tags.indexOf("*"))for(var r in i)-1!=this.filters.tags.indexOf(i[r])&&(tagok=!0);else tagok=!0;if(ix==filterslength&&catok&&tagok)return e&&l&&!0;for(var n in count=0,i)for(x in this.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&-1!=this.filters[x].indexOf(i[n])&&(count+=1);if("true"==this.options.searchmultiex){for(x in lgth=0,this.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(lgth+=this.filters[x].length,-1!=this.filters[x].indexOf("*")&&(lgth-=1));return e&&l&&count==lgth&&tagok}return e&&l&&count>=filterslength-ix&&catok&&tagok},CGIsotope.prototype.filter_list=function(t,e,s){if($parent=t.getAttribute("data-filter-group"),$isclone=!1,"clonedbuttons"==t.parentNode.id?($selectid=$parent,$isclone=!0,sortValue=""):($selectid=t.getAttribute("data-filter-group"),sortValue=t.querySelector(".is-highlighted"),sortValue=sortValue.dataset.value),"undefined"==typeof sortValue&&(sortValue=""),elChoice=document.querySelector("joomla-field-fancy-select#isotope-select-"+$selectid),choicesInstance=elChoice.choicesInstance,$needclone=!1,$grdparent=t.parentNode,"offcanvas-body"==$grdparent.className&&($needclone=!0),"remove"==s&&$needclone)return this.removeFilter(this.filters,$parent,e.detail.value),myclone=document.querySelector('#clonedbuttons button[data-sort-value="'+e.detail.value+'"]'),myclone&&myclone.remove(),void(0==this.filters[$parent].length&&(this.filters[$parent]=["*"],choicesInstance.setChoiceByValue(""),this.update_cookie_filter()));if(""==sortValue){choicesInstance.removeActiveItems(),choicesInstance.setChoiceByValue(""),this.filters[$parent]=["*"],$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(var i=0;i<$buttons.length;i++)$buttons[i].remove()}else if(this.filters[$parent]=[sortValue],$needclone){$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(i=0;i<$buttons.length;i++)$buttons[i].remove();clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+this.filters[$parent]+'"]'),clone_exist||(lib=e.detail.choice.label,this.create_clone_button($parent,sortValue,lib,"list",""),this.create_clone_listener(sortValue))}this.update_cookie_filter(),this.iso.arrange(),this.updateFilterCounts()},CGIsotope.prototype.filter_list_multi=function(t,e,s){$evnt=e,$params=s,$isclone=!1,"clonedbuttons"==t.parentNode.id?($parent=t.getAttribute("data-filter-group"),$selectid="isotope-select-"+$parent,$isclone=!0):($parent=t.parentNode.parentNode.parentNode.getAttribute("data-filter-group"),$selectid=t.getAttribute("id")),void 0===this.filters[$parent]&&(this.filters[$parent]=[]);var i=document.querySelector("joomla-field-fancy-select#"+$selectid).choicesInstance;if("remove"==$params){if($isclone){this.removeFilter(this.filters,$parent,t.getAttribute("data-sort-value")),savfilter=JSON.parse(JSON.stringify(this.filters)),i.removeActiveItems(),this.filters=JSON.parse(JSON.stringify(savfilter)),i.removeActiveItemsByValue("");for(var o=0;o<this.filters[$parent].length;o++)remval=this.filters[$parent][o],i.setChoiceByValue(remval),asel=i.getValue()[o],this.create_clone_button($parent,remval,asel.label,"list_multi",""),this.create_clone_listener(remval)}else this.removeFilter(this.filters,$parent,$evnt.detail.value),myclone=document.querySelector('#clonedbuttons button[data-sort-value="'+$evnt.detail.value+'"]'),myclone&&myclone.remove();0==this.filters[$parent].length&&(this.filters[$parent]=["*"],i.setChoiceByValue(""))}if($needclone=!1,null!=t.parentNode&&($grdparent=t.parentNode.parentNode.parentNode.parentNode.parentNode,"offcanvas-body"==$grdparent.classList[0]&&($needclone=!0)),"choice"==$params){if(sel=$evnt.detail.choice.value,lib=$evnt.detail.choice.label,""==sel){this.filters[$parent]=["*"],i.removeActiveItems(),i.setChoiceByValue(""),$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(o=0;o<$buttons.length;o++)$buttons[o].remove()}else-1!=this.filters[$parent].indexOf("*")&&(i.removeActiveItemsByValue(""),this.filters[$parent]=[]),$needclone&&(clone_exist=!1,-1!=this.filters[$parent].indexOf(sel)&&(clone_exist=!0),clone_exist||(this.create_clone_button($parent,sel,lib,"list_multi",""),this.create_clone_listener(sel))),this.addFilter(this.filters,$parent,sel);i.hideDropdown()}this.update_cookie_filter(),this.iso.arrange(),this.updateFilterCounts()},CGIsotope.prototype.filter_button=function(t,e){if(!this.hasClass(t,"disabled")){$parent=t.parentNode.getAttribute("data-filter-group"),child=t.getAttribute("data-child");var s=t.getAttribute("data-sort-value");if($isclone=!1,"clonedbuttons"==t.parentNode.id&&($parent=t.getAttribute("data-filter-group"),abutton=document.querySelector(".isotope_button-group .iso_button_"+$parent+"_"+s),this.toggleClass(abutton,"is-checked"),s="*",-1!=this.std_parents.indexOf($parent)?abutton=document.querySelector(".iso_button_"+$parent+"_tout"):abutton=document.querySelector(".iso_button_tout.filter-button-group-"+$parent),this.toggleClass(abutton,"is-checked"),$isclone=!0),void 0===this.filters[$parent]&&(this.filters[$parent]={}),$needclone=!1,$grdparent=t.parentNode.parentNode,this.hasClass($grdparent,"offcanvas-body")&&($needclone=!0),$needclone){if(this.hasClass(t,"is-checked"))return;$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(var i=0;i<$buttons.length;i++)$buttons[i].remove();"*"!=s&&(lib=e.srcElement.innerHTML,this.create_clone_button($parent,s,lib,"button",child),this.create_clone_listener(s))}"*"==s?(this.filters[$parent]=["*"],$isclone&&t.remove,child&&this.set_family_all(this.me,child,"button")):(this.filters[$parent]=[s],child&&this.set_family(this.me,"",child,s,"button")),this.update_cookie_filter(),this.iso.arrange(),this.updateFilterCounts()}},CGIsotope.prototype.filter_multi=function(t,e){var s=t.getAttribute("data-sort-value");if(child=t.getAttribute("data-child"),$isclone=!1,"clonedbuttons"==t.parentNode.id){$parent=t.getAttribute("data-filter-group"),$buttons=document.querySelectorAll(".iso_button_"+$parent+"_"+s);for(var i=0;i<$buttons.length;i++)this.toggleClass($buttons[i],"is-checked");$isclone=!0}else $parent=t.parentNode.getAttribute("data-filter-group"),this.toggleClass(t,"is-checked");var o=this.hasClass(t,"is-checked");if($needclone=!1,$grdparent=t.parentNode.parentNode,this.hasClass($grdparent,"offcanvas-body")&&($needclone=!0),$needclone&&(o&&"*"!=s?("img"==e.srcElement.localName?lib=e.srcElement.outerHTML+e.srcElement.nextSibling.textContent:lib=e.srcElement.innerHTML,this.create_clone_button($parent,s,lib,"multi",child),this.create_clone_listener(s)):"*"!=s&&(aclone=document.querySelector("#clonedbuttons .iso_button_"+$parent+"_"+s),aclone.remove())),void 0===this.filters[$parent]&&(this.filters[$parent]=[]),"*"==s){this.filters[$parent]=["*"],clones=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(i=0;i<clones.length;i++)clones[i].remove();child&&this.set_family_all(this.me,child,"button")}else this.removeFilter(this.filters,$parent,"*"),this.removeFilter(this.filters,$parent,"none"),o?(this.addFilter(this.filters,$parent,s),child&&this.set_family(this.me,$parent,child,s,"button")):(this.removeFilter(this.filters,$parent,s),0==this.filters[$parent].length&&(this.filters[$parent]=["*"],$isclone&&(aclone=document.querySelector(".filter-button-group-"+$parent+' [data-sort-value="*"]'),this.addClass(aclone,"is-checked"))),child&&(this.filters[$parent]==["*"]?this.set_family_all(this.me,child,"button"):this.del_family(this.me,$parent,child,s,"button")));this.update_cookie_filter(),this.iso.arrange(),this.updateFilterCounts()},CGIsotope.prototype.set_buttons_multi=function(t){if($parent=t.parentNode.getAttribute("data-filter-group"),"*"==t.getAttribute("data-sort-value")){buttons=t.parentNode.querySelectorAll("button.is-checked");for(var e=0;e<buttons.length;e++)this.removeClass(buttons[e],"is-checked");this.addClass(t,"is-checked")}else 0==this.filters[$parent].length||"*"==this.filters[$parent]?(button_all=t.parentNode.querySelector('[data-sort-value="*"]'),this.addClass(button_all,"is-checked"),this.filters[$parent]=["*"],this.update_cookie_filter(),this.iso.arrange()):(button_all=t.parentNode.querySelector('[data-sort-value="*"]'),this.removeClass(button_all,"is-checked"))},CGIsotope.prototype.updateFilterCounts=function(){for(var t=document.querySelectorAll(this.me+".isotope_item"),e=document.querySelector(this.me+".iso_button_more"),s=this.iso.getFilteredItemElements(),i=s.length,o=document.querySelector(this.me+".iso_div_empty"),l=0;l<t.length;l++)this.hasClass(t[l],"iso_hide_elem")&&this.removeClass(t[l],"iso_hide_elem");if(this.empty_message&&(0==i?this.removeClass(o,"iso_hide_elem"):this.hasClass(o,"iso_hide_elem")||this.addClass(o,"iso_hide_elem")),this.items_limit>0){for(var a=0;a<s.length;a++)a>=this.items_limit&&this.addClass(t[a],"iso_hide_elem");a<this.items_limit&&"infinite"!=this.options.pagination?this.addClass(e,"iso_hide_elem"):this.removeClass(e,"iso_hide_elem")}if(0==this.items_limit&&this.sav_limit>0&&"infinite"!=this.options.pagination){for(a=0;a<s.length;a++)this.hasClass(s[a],"iso_hide_elem")&&(i-=1);i>this.sav_limit?this.removeClass(e,"iso_hide_elem"):this.addClass(e,"iso_hide_elem")}this.iso.arrange()},CGIsotope.prototype.create_clone_button=function(t,e,s,i,o){buttons=document.querySelector("#clonedbuttons");var l=document.createElement("button");l.classList.add("btn"),l.classList.add("btn-sm"),l.classList.add("iso_button_"+t+"_"+e),l.classList.add("is-checked"),l.setAttribute("data-sort-value",e),l.setAttribute("data-filter-group",t),l.setAttribute("data-clone-type",i),o&&l.setAttribute("data-child",o),s.indexOf("img src")>0?l.title=s.substr(s.indexOf(">")+1):l.title=s,l.innerHTML=s,buttons.prepend(l)},CGIsotope.prototype.create_clone_listener=function(t){onebutton=document.querySelector('#clonedbuttons [data-sort-value="'+t+'"] '),["click","touchstart"].forEach(t=>{onebutton.addEventListener(t,function(t){t.stopPropagation(),t.preventDefault(),"multi"==this.getAttribute("data-clone-type")&&$myiso.filter_multi(this),"button"==this.getAttribute("data-clone-type")&&$myiso.filter_button(this),"list_multi"==this.getAttribute("data-clone-type")&&$myiso.filter_list_multi(this,t,"remove"),"list"==this.getAttribute("data-clone-type")&&$myiso.filter_list(this,t),this.remove()})})},CGIsotope.prototype.debounce=function(t,e){var s;return function(){s&&clearTimeout(s),s=setTimeout(function(){t(),s=null},e||100)}},CGIsotope.prototype.addFilter=function(t,e,s){e&&-1==t[e].indexOf(s)&&t[e].push(s)},CGIsotope.prototype.removeFilter=function(t,e,s){Array.isArray(t[e])||(t[e]=["*"]);var i=t[e].indexOf(s);-1!=i&&t[e].splice(i,1)},CGIsotope.prototype.update_cookie_filter=function(){for(x in $filter_cookie="",this.filters)"null"!=x&&($filter_cookie.length>0&&($filter_cookie+=">"),$filter_cookie+=x+"<"+this.filters[x].toString());$filter_cookie.length>0&&($filter_cookie+=">"),this.CG_Cookie_Set(this.isoid,"filter",$filter_cookie)},CGIsotope.prototype.getCookie=function(t){let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):""},CGIsotope.prototype.CG_Cookie_Set=function(t,e,s){var i;$myiso=cgisotope[t],duration=$myiso.options.cookieduration;var o=new Date;"undefined"==typeof duration||0==duration?i="":"-1"==duration?i=";Max-Age=0;":"1d"==duration?(o.setTime(o.getTime()+864e5),i=";expires="+o.toUTCString()):"1w"==duration?(o.setTime(o.getTime()+6048e5),i=";expires="+o.toUTCString()):"1m"==duration&&(o.setTime(o.getTime()+2592e6),i=";expires="+o.toUTCString()),$secure="","https:"==window.location.protocol&&($secure="secure;"),lecookie=$myiso.getCookie($myiso.cookie_name),$val=e+":"+s,$cook=$val,""!=lecookie&&(lecookie.indexOf(e)>=0?($cook="",$arr=lecookie.split("&"),$arr.forEach($myiso.replaceCookie,$val)):$cook=lecookie+"&"+$val),document.cookie=$myiso.cookie_name+"="+$cook+i+"; path=/; samesite=lax;"+$secure},CGIsotope.prototype.replaceCookie=function(t,e,s){this.startsWith("search:")&&t.indexOf("search:")>=0&&(s[e]=this),this.startsWith("sort:")&&t.indexOf("sort:")>=0&&(s[e]=this),this.startsWith("filter:")&&t.indexOf("filter:")>=0&&(s[e]=this),this.startsWith("range:")&&t.indexOf("range:")>=0&&(s[e]=this),$cook.length>0&&($cook+="&"),$cook+=s[e]},CGIsotope.prototype.splitCookie=function(t,e){if(this.quicksearch=document.querySelector(this.me+".quicksearch"),e.indexOf("search:")>=0&&this.quicksearch&&(val=e.split(":"),this.qsRegex=new RegExp(val[1],"gi"),this.quicksearch.value=val[1]),e.indexOf("sort:")>=0){for(val=e.split(":"),val=val[1].split("-"),sort_by=val[0].split(","),asc="true"==val[1],sortAsc={},i=0;i<sort_by.length;i++)"featured"==sort_by[i]?sortAsc[sort_by[i]]=!1:sortAsc[sort_by[i]]=asc;for(asc=sortAsc,sortButtons=document.querySelectorAll(this.me+".sort-by-button-group button"),s=0;s<sortButtons.length;s++)"*"!=val[0]&&(sortButtons[s].classList.remove("is-checked"),sortButtons[s].getAttribute("data-sort-value")==val[0]&&(sortButtons[s].classList.add("is-checked"),sortButtons[s].setAttribute("data-sens","+"),"true"!=val[1]&&sortButtons[s].setAttribute("data-sens","-")))}if(e.indexOf("filter:")>=0&&(val=e.split(":"),val[1].length>0))for(val=val[1].split(">"),x=0;x<val.length-1;x++)if(values=val[x].split("<"),-1!=this.std_parents.indexOf(values[0])){if("tags"==values[0]&&"listmulti"==this.options.displayfiltertags||"cat"==values[0]&&"listmulti"==this.options.displayfiltercat){var o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance;if(this.filters[values[0]]=values[1].split(","),"*"==values[1])o.setChoiceByValue("");else{for(o.removeActiveItemsByValue(""),vals=values[1].split(","),c=0;c<vals.length;c++)o.setChoiceByValue(vals[c]);if("offcanvas-body"==a.parentElement.parentElement.className)for(c=0;c<o.getValue().length;c++)lib=o.getValue()[c].label,sel=o.getValue()[c].value,child=null,this.create_clone_button(values[0],sel,lib,"list_multi",child),this.create_clone_listener(sel)}}else if("*"!=values[1]){for(this.filters[values[0]]=values[1].split(","),"lang"==values[0]?filterButtons=document.querySelectorAll(this.me+".iso_lang button.is-checked"):filterButtons=document.querySelectorAll(this.me+".filter-button-group-"+values[0]+" button.is-checked"),f=0;f<filterButtons.length;f++)filterButtons[f].classList.remove("is-checked");for(v=0;v<this.filters[values[0]].length;v++){if("tags"==values[0]&&"list"==this.options.displayfiltertags||"cat"==values[0]&&"list"==this.options.displayfiltercat){if((o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance).setChoiceByValue(this.filters[values[0]][v]),"offcanvas-body"==a.parentElement.parentElement.className){o=a.choicesInstance;sel=this.filters[values[0]][v],lib=o.getValue().label,child=null,this.create_clone_button(values[0],sel,lib,"list",child),this.create_clone_listener(sel)}}else $button=document.querySelector(this.me+".iso_button_"+values[0]+"_"+this.filters[values[0]][v]),this.addClass($button,"is-checked"),this.hasClass($button.parentNode.parentNode,"offcanvas-body")&&($type="button",("cat"!=values[0]||"multi"!=this.options.displayfiltercat&&"multiex"!=this.options.displayfiltercat)&&("tags"!=values[0]||"multi"!=this.options.displayfiltertags&&"multiex"!=this.options.displayfiltercat)&&("alpha"!=values[0]||"multi"!=this.options.displayalpha&&"multiex"!=this.options.displayalpha)||($type="multi"),child=null,lib=$button.innerHTML,this.create_clone_button(values[0],this.filters[values[0]][v],lib,$type,child),this.create_clone_listener(this.filters[values[0]][v]))}}}else if("listmulti"==this.options.displayfilterfields){var a;o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance;if(this.filters[values[0]]=values[1].split(","),"*"==values[1])o.setChoiceByValue("");else{for(o.removeActiveItemsByValue(""),vals=values[1].split(","),c=0;c<vals.length;c++)o.setChoiceByValue(vals[c]);if("offcanvas-body"==a.parentElement.parentElement.className)for(c=0;c<o.getValue().length;c++)lib=o.getValue()[c].label,sel=o.getValue()[c].value,child=null,create_clone_button(values[0],sel,lib,"list",child),create_clone_listener(sel)}}else if("*"!=values[1]){for(alist=document.querySelectorAll(this.me+".class_fields_"+values[0]+" .is-checked"),l=0;l<alist.length;l++)alist[l].classList.remove("is-checked");for(this.filters[values[0]]=values[1].split(","),v=0;v<this.filters[values[0]].length;v++)"list"==this.options.displayfilterfields||"listex"==this.options.displayfilterfields?(o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance,this.filters[values[0]]=values[1].split(","),"*"==values[1]?o.setChoiceByValue(""):(o.removeActiveItemsByValue(""),o.setChoiceByValue(values[1]),"offcanvas-body"==a.parentElement.parentElement.parentElement.className&&(lib=o.getValue().label,sel=o.getValue().value,child=null,create_clone_button(values[0],sel,lib,"list",child),create_clone_listener(sel)))):(obj=document.querySelector(this.me+".iso_button_"+values[0]+"_"+this.filters[values[0]][v]),this.addClass(obj,"is-checked"),child=obj.getAttribute("data-child"),child&&(this.sortValue=obj.getAttribute("data-sort-value"),this.set_family(this.me,"",child,this.sortValue,"button")),this.hasClass(obj.parentNode.parentNode.parentNode,"offcanvas-body")&&($type="button",lib=obj.innerHTML,this.create_clone_button(values[0],this.filters[values[0]][v],lib,$type,child),this.create_clone_listener(this.filters[values[0]][v])))}e.indexOf("range:")>=0&&(val=e.split(":"),val[1].length>0&&(spl=val[1].split(","),this.min_range=parseInt(spl[0]),this.max_range=parseInt(spl[1])))},CGIsotope.prototype.set_family=function(t,e,s,i,o){for(parents=[];s;){if("list"==o){$asel=document.querySelector(t+'.filter-button-group-fields [data-group-id="'+s+'"]'),listoptions=$asel.querySelectorAll("option");for(var l=0;l<listoptions.length;l++)this.hasClass(listoptions[l],"iso_hide_elem")||this.addClass(listoptions[l],"iso_hide_elem");$all=$asel.querySelector('[data-all="all"]'),removeClass($all,"iso_hide_elem"),$all.setAttribute("selected",!0),s=$all.getAttribute("data-child")}else{if($myparent=document.querySelector(t+".filter-button-group-fields").parentNode,$asel=$myparent.querySelector('[data-group-id="'+s+'"]'),""==e||""!=e&&1==this.filters[e].length&&"*"!=this.filters[e]){buttons=$asel.querySelectorAll("button");for(l=0;l<buttons.length;l++)this.hasClass(buttons[l],"iso_hide_elem")||this.addClass(buttons[l],"iso_hide_elem"),this.removeClass(buttons[l],"is-checked")}abutton=$asel.querySelector("button.iso_button_tout"),this.removeClass(abutton,"iso_hide_elem"),this.addClass(abutton,"is-checked"),s=abutton.getAttribute("data-child")}if(0==parents.length){buttons=$asel.querySelectorAll('[data-parent="'+i+'"]');for(l=0;l<buttons.length;l++)this.removeClass(buttons[l],"iso_hide_elem");if(newparents=$asel.querySelectorAll('[data-parent="'+i+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)newval="list"==o?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=newval&&parents.push(newval)}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(i=parents[$i])){buttons=$asel.querySelectorAll('[data-parent="'+i+'"]');for(l=0;l<buttons.length;l++)this.removeClass(buttons[l],"iso_hide_elem");if($vals=$asel.querySelectorAll('[data-parent="'+i+'"]'),$vals.length>0)for($j=0;$j<$vals.length;$j++)oneval="list"==o?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=oneval&&newparents.push(oneval)}parents=newparents}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"],i=""}},CGIsotope.prototype.del_family=function(t,e,s,i,o){for(parents=[];s;){if(myparent=document.querySelector(t+".filter-button-group-fields").parentNode,$asel=myparent.querySelector('[data-group-id="'+s+'"]'),abutton=$asel.querySelector('[data-parent="'+i+'"]'),this.addClass(abutton,"iso_hide_elem"),this.removeClass(abutton,"is-checked"),abutton=$asel.querySelector("button.iso_button_tout"),this.removeClass(abutton,"iso_hide_elem"),this.addClass(abutton,"is-checked"),s=$asel.getAttribute("data-child"),0==parents.length){if(newparents=$asel.querySelectorAll('[data-parent="'+i+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)delval="list"==o?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=delval&&(parents.push(delval),this.addClass(newparents[$i],"iso_hide_elem"))}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(i=parents[$i])&&($vals=$asel.querySelectorAll('[data-parent="'+i+'"]'),$vals.length>0))for($j=0;$j<$vals.length;$j++)delval="list"==o?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=delval&&(newparents.push(delval),this.addClass($vals[$j],"iso_hide_elem"));parents=newparents}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"],i=""}},CGIsotope.prototype.set_family_all=function(t,e,s){for(parents=[];e;){for($asel="list"==s?document.querySelector(t+".filter-button-group-fields"):document.querySelector(t+".filter-button-group-fields").parentNode,parents=$asel.querySelectorAll('[data-child="'+e+'"]'),i=0;i<parents.length;i++)this.hasClass(parents[i],"iso_hide_elem")||(setval="list"==s?parents[i].getAttribute("value"):parents[i].getAttribute("data-sort-value"),setval&&"*"!=setval&&this.removeClass($asel.querySelector('[data-parent="'+setval+'"]'),"iso_hide_elem"));if("list"==s)allbuton=$asel.querySelector('[data-group-id="'+e+'"] [data-all="all"]'),e=allbutton.getAttribute("data-child");else{buttons=$asel.querySelectorAll('[data-group-id="'+e+'"] button');for(var i=0;i<buttons.length;i++)this.removeClass(buttons[i],"is-checked");this.addClass($asel.querySelector('[data-group-id="'+e+'"] button.iso_button_tout'),"is-checked"),myparent=$mychild=$asel.querySelector('[data-group-id="'+e+'"]'),$mychild_all=$mychild.querySelector("button.iso_button_tout"),e=$mychild_all.getAttribute("data-child")}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"]}},CGIsotope.prototype.hasClass=function(t,e){var s=new RegExp("(?:\\s|^)"+e+"(?:\\s|$)");return!!t.className.match(s)},CGIsotope.prototype.addClass=function(t,e){t.className+=" "+e},CGIsotope.prototype.removeClass=function(t,e){var s=new RegExp("(?:\\s|^)"+e+"(?:\\s|$)");t.className=t.className.replace(s," ")},CGIsotope.prototype.toggleClass=function(t,e){$myiso.hasClass(t,e)?$myiso.removeClass(t,e):$myiso.addClass(t,e)},CGIsotope.prototype.scrollTo=function(t,e){var s=document.scrollingElement||document.documentElement,i=s.scrollTop,o=t-i,l=performance.now(),a=function(r){var n,c,u,d=r-l;s.scrollTop=parseInt((n=d,c=i,u=o,(n/=e/2)<1?u/2*n*n+c:-u/2*(--n*(n-2)-1)+c)),d<e?requestAnimationFrame(a):s.scrollTop=t};requestAnimationFrame(a)},CGIsotope.prototype.resetToggle=function(){$myiso.grid_toggle&&$myiso.hasClass($myiso.grid_toggle,"isotope-hide")?($myiso.removeClass($myiso.iso_article,"isotope-open"),$myiso.addClass($myiso.iso_article,"isotope-hide"),$myiso.removeClass($myiso.grid_toggle,"isotope-hide"),$myiso.iso_div.refresh):$myiso.iso_article&&$myiso.hasClass($myiso.iso_article,"isotope-open")&&($myiso.removeClass($myiso.iso_article,"isotope-open"),$myiso.addClass($myiso.iso_article,"isotope-hide"),$myiso.iso_article.innerHTML(""),$myiso.iso_div.refresh)},go_click=function(t,e){event.preventDefault(),"webLinks"==t||window.event.ctrlKey?window.open(e,"_blank"):location=e};