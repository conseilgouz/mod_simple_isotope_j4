var cgisotope=[];function CGIsotope(t,e){if($myiso=this,this.isoid=t,this.qsRegex=null,this.close=null,this.loadCount=0,this.std_parents=["cat","tags","lang","alpha"],this.parent="cat",this.cookie_name="cg_isotope_"+this.isoid,this.me="#isotope-main-"+this.isoid+" ",this.options=e,this.filters={},this.items_limit=this.options.limit_items,this.sav_limit=this.options.limit_items,this.empty_message="true"==this.options.empty,this.asc="true"==this.options.ascending,this.sort_by=this.options.sortby,this.grid_toggle=document.querySelector(".isotope_grid"),this.iso_article=document.querySelector(".isotope_an_article"),this.iso_div=document.querySelector(".isotope-main .isotope-div"),this.article_frame=document.querySelector("iframe#isotope_article_frame"),this.article_modal=document.querySelector("#modalsrc_"+this.isoid+"_id"),this.article_frame&&this.article_frame.addEventListener("load",(function(){$myiso.removeClass($myiso.iso_article,"article-loading"),$myiso.close&&$myiso.removeClass($myiso.close,"isotope-hide"),$myiso.article_frame.style.height=$myiso.iso_height,$myiso.article_frame.style.width=$myiso.iso_width+"px"})),-1!==this.sort_by.indexOf("featured"))for(this.sortValue=this.sort_by.split(","),this.asc={},i=0;i<this.sortValue.length;i++)"featured"==this.sortValue[i]?this.asc[this.sortValue[i]]=!1:this.asc[this.sortValue[i]]="true"==this.options.ascending;if(0==this.options.limit_items&&(document.querySelector(this.me+".iso_button_more").style.display="none"),""==this.options.default_cat||null==this.options.default_cat||void 0===this.options.default_cat||-1===this.options.article_cat_tag.indexOf("cat")?this.filters.cat=["*"]:this.filters.cat=[this.options.default_cat],""==this.options.default_tag||null==this.options.default_tag||void 0===this.options.default_tag||-1===this.options.article_cat_tag.indexOf("tags")?this.filters.tags=["*"]:this.filters.tags=[this.options.default_tag],this.filters.lang=["*"],this.filters.alpha=["*"],"ajax"==this.options.readmore||"iframe"==this.options.readmore||"modal"==this.options.readmore){this.iso_height=this.grid_toggle.offsetHeight,this.iso_width=this.grid_toggle.offsetWidth,readmoretitles=document.querySelectorAll(".isotope-readmore-title");for(var o=0;o<readmoretitles.length;o++)"modal"==$myiso.options.readmore&&(readmoretitles[o].setAttribute("data-bs-toggle","modal"),readmoretitles[o].setAttribute("data-bs-target","#modalsrc_"+this.isoid+"_id")),["click","touchstart"].forEach((t=>{readmoretitles[o].addEventListener(t,(function(t){if($pos=$myiso.iso_div.offsetTop,document.querySelector("body").scrollTo($pos,1e3),t.stopPropagation(),t.preventDefault(),"modal"!=$myiso.options.readmore&&($myiso.addClass($myiso.grid_toggle,"isotope-hide"),$myiso.addClass($myiso.iso_article,"isotope-open"),$myiso.removeClass($myiso.iso_article,"isotope-hide"),$myiso.iso_article.offsetHeight="auto",$myiso.addClass($myiso.iso_article,"article-loading")),"ajax"==$myiso.options.readmore){document.querySelector("#isotope_an_article").innerHTML="";var e=document.getElementById("token");token=e.getAttribute("name"),$myiso.options.ismodule?url="?option=com_ajax&module=simple_isotope&article="+this.dataset.articleid+"&entree=articles&data=readmore&format=json&id="+$myiso.isoid:url="?"+token+"=1&option=com_cgisotope&task=display&article="+this.dataset.articleid+"&entree=articles&format=json",Joomla.request({method:"POST",url:url,onSuccess:function(t,e){var o=JSON.parse(t);$myiso.removeClass($myiso.iso_article,"article-loading"),$myiso.iso_article.style.height=$myiso.iso_height,$myiso.iso_article.style.width=$myiso.iso_width+"px",o.success||(o.success=!0),$myiso.displayArticle(o),["click","touchstart"].forEach((t=>{$myiso.close.addEventListener(t,(function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()}))}))},onError:function(t){console.log(t.responseText)}})}else"iframe"==$myiso.options.readmore?(0==$myiso.iso_height&&($myiso.iso_height="100vh"),$myiso.article_frame.style.height=0,$myiso.article_frame.style.width=0,achar="?",this.dataset.href.indexOf("?")>0&&(achar="&"),$myiso.article_frame.setAttribute("src",this.dataset.href+achar+"tmpl=component"),$myiso.addClass($myiso.iso_article,"article-loading"),$myiso.close=document.querySelector("button.close"),$myiso.addClass($myiso.close,"isotope-hide"),["click","touchstart"].forEach((t=>{$myiso.close.addEventListener(t,(function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()}))}))):"modal"==$myiso.options.readmore&&(mymodal=$myiso.article_modal,myiframe=mymodal.querySelector("iframe"),myiframe.init=myiframe.src,$url="index.php?option=com_content&amp;view=article&amp;id="+this.dataset.articleid+"&amp;layout=modal&amp;tmpl=component",myiframe.src=$url);["click","touchstart"].forEach((t=>{$myiso.grid_toggle.addEventListener(t,(function(t){t.stopPropagation(),t.preventDefault(),$myiso.resetToggle()}))}))}))}));"modal"==this.options.readmore&&(mymodal=this.article_modal,mymodal.addEventListener("hide.bs.modal",(function(t){console.log("closing"),mymodal=$myiso.article_modal,myiframe=mymodal.querySelector("iframe"),myiframe.src=myiframe.init})))}["click","touchstart"].forEach((t=>{$myiso.iso_div.addEventListener(t,(function(t){$myiso.resetToggle()}))}))}document.addEventListener("DOMContentLoaded",(function(){mains=document.querySelectorAll(".isotope-main");for(var t=0;t<mains.length;t++){let e=mains[t],o=!1;if(e.getAttribute("ismodule")&&"true"==e.getAttribute("ismodule")&&(o=!0),isoid=e.getAttribute("data"),"undefined"==typeof Joomla||void 0===Joomla.getOptions)return console.error("Joomla.getOptions not found!\nThe Joomla core.js file is not being loaded."),!1;if(options_iso=o?Joomla.getOptions("mod_simple_isotope_"+isoid):Joomla.getOptions("cg_isotope_"+isoid),"undefined"==typeof options_iso)return!1;options_iso.ismodule=o,cgisotope[isoid]=new CGIsotope(isoid,options_iso),cgisotope[isoid].goisotope(isoid)}})),CGIsotope.prototype.goisotope=function(t){if($myiso=cgisotope[t],$myiso.cookie=$myiso.getCookie($myiso.cookie_name),"infinite"==$myiso.options.pagination&&($myiso.cookie=""),""!=$myiso.cookie){let t=$myiso.cookie.split("&");for(let e=0;e<t.length;++e)$myiso.splitCookie($myiso.isoid,t[e])}$items=document.querySelectorAll("#isotope-main-"+$myiso.isoid+" .isotope_item");for(var e=0;e<$items.length;e++)"masonry"!=$myiso.options.layout&&"fitRows"!=$myiso.options.layout&&"packery"!=$myiso.options.layout||($items[e].style.width=100/parseInt($myiso.options.nbcol)-2+"%"),"vertical"==$myiso.options.layout&&($items[e].style.width="100%"),$items[e].style.background=$myiso.options.background;$imgs=document.querySelectorAll("#isotope-main-"+$myiso.isoid+" .isotope_item img");for(e=0;e<$imgs.length;e++)parseInt($myiso.options.imgmaxheight)>0&&($imgs[e].style.maxHeight=$myiso.options.imgmaxheight+"px"),parseInt($myiso.options.imgmaxwidth)>0&&($imgs[e].style.maxWidth=$myiso.options.imgmaxwidth+"px");"string"==typeof $myiso.sort_by&&($myiso.sort_by=$myiso.sort_by.split(","));var o=document.querySelector($myiso.me+".isotope_grid");if($myiso.iso=new Isotope(o,{itemSelector:$myiso.me+".isotope_item",percentPosition:!0,layoutMode:$myiso.options.layout,getSortData:{title:"[data-title]",category:"[data-category]",date:"[data-date]",click:"[data-click] parseInt",rating:"[data-rating] parseInt",id:"[data-id] parseInt",featured:"[data-featured] parseInt"},sortBy:$myiso.sort_by,sortAscending:$myiso.asc,isJQueryFiltering:!1,filter:function(t){return!!t&&($id=t.parentNode.getAttribute("data"),cgisotope[$id].grid_filter($id,t))}}),imagesLoaded(o,(function(){$myiso=cgisotope[this.elements[0].getAttribute("data")],$myiso.updateFilterCounts(),"random"==$myiso.sort_by&&$myiso.iso.shuffle(),void 0!==$myiso.toogle&&($myiso.iso_width=$myiso.grid_toggle.width(),$myiso.iso_height=$myiso.grid_toggle.height())})),"true"==$myiso.options.displayrange&&($myiso.min_range||($myiso.min_range=parseInt($myiso.options.minrange),$myiso.max_range=parseInt($myiso.options.maxrange)),$myiso.rangeSlider=new rSlider({target:"#rSlider",values:{min:parseInt($myiso.options.minrange),max:parseInt($myiso.options.maxrange)},step:parseInt($myiso.options.rangestep),set:[$myiso.min_range,$myiso.max_range],range:!0,tooltip:!0,scale:!0,labels:!0,onChange:$myiso.rangeUpdated})),iso_div=document.querySelector($myiso.me+".isotope-div"),iso_div.addEventListener("refresh",(function(){$myiso.iso.arrange()})),"infinite"==$myiso.options.pagination){var s=Isotope.data(".isotope_grid"),i=new InfiniteScroll(".isotope_grid",{path:function(){return currentpage=this.loadCount,"?start="+(currentpage+1)*$myiso.options.page_count},append:".isotope_item",outlayer:s,status:".page-load-status"});let t=document.querySelector($myiso.me+".iso_button_more");"true"==$myiso.options.infinite_btn?(i.option({button:".iso_button_more",loadOnScroll:!1}),t.style.display="block",["click","touchstart"].forEach((e=>{t.addEventListener(e,(function(t){t.stopPropagation(),t.preventDefault(),i.loadNextPage(),i.option({loadOnScroll:!0}),this.style.display="none",event.preventDefault()}))}))):t.style.display="none",i.on("append",(function(t,e,o,s){$myiso.infinite_buttons(o),$myiso.iso.arrange()}))}if(hamburgerbtn=document.getElementById("offcanvas-hamburger-btn"),hamburgerbtn&&(["click"].forEach((t=>{hamburgerbtn.addEventListener(t,(function(t){var e=function(t,o=!1){!1===o||o>0?(0!=o&&o--,setTimeout((function(){e(t,o)}),100)):("undefined"!=typeof rangeSlider&&rangeSlider.onResize(),t())};e((function(){document.querySelector(".offcanvas")}),3)}))})),"*"!=$myiso.filters.cat[0]||"*"!=$myiso.filters.tags[0])){grouptype=["cat","tags"],optionstype=[options.displayfiltercat,options.displayfiltertags];for(var l=0;l<grouptype.length;l++)if("*"!=$myiso.filters[grouptype[l]][0]&&(clone_exist=document.querySelector($myiso.me+'#clonedbuttons button[data-sort-value="'+$myiso.filters[grouptype[l]]+'"]'),!clone_exist)){agroup=document.querySelectorAll($myiso.me+".filter-button-group-"+grouptype[l]+" button");for(e=0;e<agroup.length;e++)agroup[e].getAttribute("data-sort-value")==$myiso.filters[grouptype[l]]&&($myiso.create_clone_button(grouptype[l],$myiso.filters[grouptype[l]],agroup[e].textContent,agroup[e].title,optionstype[l],""),$myiso.create_clone_listener($myiso.filters[grouptype[l]]))}}var a=document.querySelectorAll($myiso.me+".sort-by-button-group button");for(e=0;e<a.length;e++)["click","touchstart"].forEach((t=>{a[e].addEventListener(t,(t=>{let e=t.srcElement.parentNode.getAttribute("data"),o=cgisotope[e];t.stopPropagation(),t.preventDefault(),o.update_sort_buttons(t.srcElement);for(var s=0;s<a.length;s++)a[s].classList.remove("is-checked");t.srcElement.classList.add("is-checked")}))}));$myiso.quicksearch=document.querySelector($myiso.me+".quicksearch"),$myiso.quicksearch&&$myiso.quicksearch.addEventListener("keyup",(t=>{this.qsRegex=new RegExp(this.quicksearch.value,"gi"),this.CG_Cookie_Set(this.isoid,"search",this.quicksearch.value),this.updateFilterCounts()}));for(var r=document.querySelectorAll($myiso.me+".ison-cancel-squared"),n=0;n<r.length;n++)["click","touchstart"].forEach((t=>{r[n].addEventListener(t,(function(t){let e=this.getAttribute("data");e||(e=this.parentNode.getAttribute("data"));let o=cgisotope[e];t.stopPropagation(),t.preventDefault(),o.quicksearch&&(o.quicksearch.value=""),o.qsRegex=new RegExp("","gi"),o.CG_Cookie_Set(o.isoid,"search",""),o.rangeSlider&&(range_sel=o.range_init,ranges=range_sel.split(","),o.rangeSlider.setValues(parseInt(ranges[0]),parseInt(ranges[1])),o.CG_Cookie_Set(o.isoid,"range",range_sel)),o.filters.cat=["*"],o.filters.tags=["*"],o.filters.lang=["*"],o.filters.alpha=["*"],grouptype=["cat","tags","alpha","fields"];for(var s=0;s<grouptype.length;s++){agroup=document.querySelectorAll(o.me+".filter-button-group-"+grouptype[s]+" button");for(var i=0;i<agroup.length;i++)agroup[i].classList.remove("is-checked"),"*"==agroup[i].getAttribute("data-sort-value")&&o.addClass(agroup[i],"is-checked"),"all"==agroup[i].getAttribute("data-all")&&agroup[i].setAttribute("selected",!0),"fields"==grouptype[s]&&(o.removeClass(agroup[i],"iso_hide_elem"),myparent=agroup[i].parentNode.getAttribute("data-filter-group"),myparent&&(o.filters[myparent]=["*"]))}agroup=document.querySelectorAll(o.me+".iso_lang button");for(i=0;i<agroup.length;i++)agroup[i].classList.remove("is-checked"),"*"==agroup[i].getAttribute("data-sort-value")&&o.addClass(agroup[i],"is-checked"),"all"==agroup[i].getAttribute("data-all")&&agroup[i].setAttribute("selected",!0);agroup=document.querySelectorAll(o.me+'select[id^="isotope-select-"]');for(i=0;i<agroup.length;i++){var l=agroup[i].parentElement.parentElement.parentElement.getAttribute("data-filter-group"),a=document.querySelector("joomla-field-fancy-select#isotope-select-"+l).choicesInstance;a.removeActiveItems(),a.setChoiceByValue(""),o.filters[l]=["*"]}$buttons=document.querySelectorAll("#clonedbuttons .is-checked");for(i=0;i<$buttons.length;i++)$buttons[i].remove();o.update_cookie_filter(),o.updateFilterCounts(),o.quicksearch&&o.quicksearch.focus()}))}));"listmulti"==$myiso.options.displayfiltertags&&($myiso.events_listmulti("tags"),$myiso.events_tags()),"listmulti"==$myiso.options.displayfiltercat&&$myiso.events_listmulti("cat"),"listmulti"==$myiso.options.displayfilterfields&&$myiso.events_listmulti("fields"),"list"!=$myiso.options.displayfiltercat&&"listex"!=$myiso.options.displayfiltercat||$myiso.events_list("cat"),"list"!=$myiso.options.displayfiltertags&&"listex"!=$myiso.options.displayfiltertags||($myiso.events_list("tags"),$myiso.events_tags()),"list"!=$myiso.options.displayfilterfields&&"listex"!=$myiso.options.displayfilterfields||$myiso.events_list("fields"),"multi"!=$myiso.options.displayfiltercat&&"multiex"!=$myiso.options.displayfiltercat||$myiso.events_multibutton("cat"),"multi"!=$myiso.options.displayfiltertags&&"multiex"!=$myiso.options.displayfiltertags||($myiso.events_multibutton("tags"),$myiso.events_tags()),"multi"!=$myiso.options.displayfilterfields&&"multiex"!=$myiso.options.displayfilterfields||$myiso.events_multibutton("fields"),"multi"==$myiso.options.language_filter&&$myiso.events_multibutton("lang"),"multi"==$myiso.options.displayalpha&&$myiso.events_multibutton("alpha"),"button"==$myiso.options.displayfiltercat&&$myiso.events_button("cat"),"button"==$myiso.options.displayfiltertags&&($myiso.events_button("tags"),$myiso.events_tags()),"button"==$myiso.options.displayfilterfields&&$myiso.events_button("fields"),"button"==$myiso.options.language_filter&&$myiso.events_button("lang"),"button"==$myiso.options.displayalpha&&$myiso.events_button("alpha"),more=document.querySelector($myiso.me+".iso_button_more"),more&&["click","touchstart"].forEach((t=>{more.addEventListener(t,(function(t){t.stopPropagation(),t.preventDefault(),$myiso.items_limit>0?($myiso.items_limit=0,this.textContent=$myiso.options.libless):($myiso.items_limit=$myiso.options.limit_items,this.textContent=$myiso.options.libmore),$myiso.updateFilterCounts()}))}));var u=document.getElementById("offcanvas_isotope");u&&(u.addEventListener("hidden.bs.offcanvas",(function(){let t=this.parentNode.parentNode.getAttribute("data");document.getElementById("offcanvas_isotope").classList.remove("offcanvas25"),document.getElementsByClassName("isotope_grid")[0].classList.remove("isogrid75"),document.getElementsByClassName("isotope_grid")[0].classList.remove("offstart"),document.getElementsByClassName("isotope_grid")[0].classList.remove("offend"),cgisotope[t].iso.arrange()})),u.addEventListener("show.bs.offcanvas",(function(){let t=this.parentNode.parentNode.getAttribute("data");document.getElementById("offcanvas_isotope").classList.add("offcanvas25"),document.getElementById("offcanvas_isotope").classList.contains("offcanvas-start")&&document.getElementsByClassName("isotope_grid")[0].classList.add("offstart"),document.getElementById("offcanvas_isotope").classList.contains("offcanvas-end")&&document.getElementsByClassName("isotope_grid")[0].classList.add("offend"),cgisotope[t].iso.arrange()})))},CGIsotope.prototype.displayArticle=function(t){var e="";if(t.success){this.options.ismodule&&(t=t.data.data);for(var o=0;o<t.length;o++){if(e+="<h1>"+t[o].title+'<button type="button" class="close">X</button></h1>',e+=t[o].fulltext,""==t[o].fulltext&&(e+=t[o].introtext),t[o].scripts.length>0)for(var s=0;s<t[o].scripts.length;s++){var i=document.createElement("script");i.addEventListener("load",(function(){console.log("Successfully loaded scripts")})),i.src=t[o].scripts[s],document.head.appendChild(i)}if(t[o].css.length>0)for(s=0;s<t[o].css.length;s++){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.addEventListener("load",(function(){console.log("Successfully loaded css")})),l.href=t[o].css[s],document.head.appendChild(l)}}this.iso_article.innerHTML=e,this.close=document.querySelector("button.close")}else if(e=t.message,t.messages&&t.messages.error)for(var a=0;a<t.messages.error.length;a++)e+="<br/>"+t.messages.error[a]},CGIsotope.prototype.rangeUpdated=function(){let t=this.target,e=document.querySelector(t).getAttribute("data"),o=cgisotope[e];o.range_sel=o.rangeSlider.getValue(),o.range_init=o.rangeSlider.conf.values[0]+","+o.rangeSlider.conf.values[o.rangeSlider.conf.values.length-1],o.CG_Cookie_Set(o.isoid,"range",o.range_sel),o.iso.arrange()},CGIsotope.prototype.events_listmulti=function(t){agroup=document.querySelectorAll(this.me+'select[id^="isotope-select-'+t+'"]');for(var e=0;e<agroup.length;e++)agroup[e].addEventListener("choice",((t,e)=>{$myiso.filter_list_multi(this,t,"choice")})),agroup[e].addEventListener("removeItem",((t,e)=>{$myiso.filter_list_multi(this,t,"remove")})),$parent=agroup[e].parentElement.parentElement.parentElement.getAttribute("data-filter-group"),void 0===$myiso.filters[$parent]&&($myiso.filters[$parent]=["*"]);if("*"!=this.filters[$parent][0]&&1==this.filters[$parent].length){var o=document.querySelector("joomla-field-fancy-select#isotope-select-"+t),s=o.choicesInstance,i=this.filters[$parent][0];s.removeActiveItemsByValue(""),s.setChoiceByValue(i),"offcanvas-body"==o.parentElement.parentElement.className&&(clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+this.filters[t]+'"]'),clone_exist||(sel=i,lib=s.getValue()[0].label,child=null,this.create_clone_button(t,sel,lib,"","list",child),this.create_clone_listener(sel)))}},CGIsotope.prototype.events_list=function(t){agroup=document.querySelectorAll(this.me+".filter-button-group-"+t);for(var e=0;e<agroup.length;e++)agroup[e].addEventListener("choice",((t,e)=>{this.filter_list(this,t,"choice")})),agroup[e].addEventListener("removeItem",((t,e)=>{this.filter_list(this,t,"remove")}));var o=document.querySelector("joomla-field-fancy-select#isotope-select-"+t);if(o){var s=o.choicesInstance;s.setChoiceByValue(this.filters[t]),"offcanvas-body"==o.parentElement.parentElement.className&&"*"!=this.filters[t]&&(clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+this.filters[t]+'"]'),clone_exist||(sel=this.filters[t],lib=s.getValue().label,child=null,this.create_clone_button(t,sel,lib,"","list",child),this.create_clone_listener(sel)))}},CGIsotope.prototype.remove_events_button=function(t){agroup="lang"==t?document.querySelectorAll(this.me+".iso_lang button"):document.querySelectorAll(this.me+".filter-button-group-"+t+" button");for(var e=0;e<agroup.length;e++)["click","touchstart"].forEach((t=>{agroup[e].removeEventListener(t,this.listenbutton),agroup[e].removeEventListener(t,this.listenmultibutton)}))},CGIsotope.prototype.listenbutton=function(t){t.stopPropagation(),t.preventDefault(),id=t.currentTarget.parentNode.getAttribute("data"),cgisotope[id].filter_button(t.currentTarget,t),mygroup=t.currentTarget.parentNode.querySelectorAll("button");for(var e=0;e<mygroup.length;e++)cgisotope[id].removeClass(mygroup[e],"is-checked");cgisotope[id].addClass(t.currentTarget,"is-checked")},CGIsotope.prototype.events_button=function(t){agroup="lang"==t?document.querySelectorAll(this.me+".iso_lang button"):document.querySelectorAll(this.me+".filter-button-group-"+t+" button");for(var e=0;e<agroup.length;e++)["click","touchstart"].forEach((t=>{agroup[e].addEventListener(t,this.listenbutton)}))},CGIsotope.prototype.listentags=function(t){val=t.currentTarget.getAttribute("data-sort-value"),val&&(t.stopPropagation(),t.preventDefault(),id=t.currentTarget.parentNode.getAttribute("data"),iso=cgisotope[id],"button"==iso.options.displayfiltertags||"multi"==iso.options.displayfiltertags||"multiex"==iso.options.displayfiltertags?(agroup=document.querySelectorAll(iso.me+".filter-button-group-tags button"),agroup.forEach((t=>{t.getAttribute("data-sort-value")==val&&t.click()}))):(agroup=document.querySelectorAll(iso.me+".filter-button-group-tags"),t.currentTarget.setAttribute("data-filter-group","tags"),node=document.createElement("div"),node.classList.add("is-highlighted"),node.dataset.value=val,t.currentTarget.appendChild(node),"list"==iso.options.displayfiltertags?iso.filter_list(iso,t,"choice"):(t.currentTarget.id="isotope-select-tags",iso.filter_list_multi(iso,t,"choice"),t.currentTarget.id=""),t.currentTarget.removeChild(node)))},CGIsotope.prototype.events_tags=function(){agroup=document.querySelectorAll(this.me+".iso-tags span ");for(var t=0;t<agroup.length;t++)["click","touchstart"].forEach((e=>{agroup[t].addEventListener(e,this.listentags)}))},CGIsotope.prototype.listenmultibutton=function(t){t.stopPropagation(),t.preventDefault(),id=t.currentTarget.parentNode.getAttribute("data"),cgisotope[id].filter_multi(t.currentTarget,t),cgisotope[id].set_buttons_multi(t.currentTarget)},CGIsotope.prototype.events_multibutton=function(t){agroup="lang"==t?document.querySelectorAll(this.me+".iso_lang button"):document.querySelectorAll(this.me+".filter-button-group-"+t+" button");for(var e=0;e<agroup.length;e++)["click","touchstart"].forEach((t=>{agroup[e].addEventListener(t,this.listenmultibutton)}))},CGIsotope.prototype.update_sort_buttons=function(t){var e=t.getAttribute("data-sort-value");if("random"==e)return this.CG_Cookie_Set(this.isoid,"sort",e+"-"),void this.iso.shuffle();for(sens=t.getAttribute("data-sens"),e=e.split(","),this.hasClass(t,"is-checked")?"-"==sens?(t.setAttribute("data-sens","+"),asc=!0):(t.setAttribute("data-sens","-"),asc=!1):(sens=t.getAttribute("data-init"),t.setAttribute("data-sens",sens),asc=!0,"-"==sens&&(asc=!1)),sortAsc={},i=0;i<e.length;i++)"featured"==e[i]?sortAsc[e[i]]=!1:sortAsc[e[i]]=asc;this.CG_Cookie_Set(this.isoid,"sort",e+"-"+asc),this.iso.options.sortBy=e,this.iso.options.sortAscending=sortAsc,this.iso.arrange()},CGIsotope.prototype.infinite_buttons=function(t){if("false"!=this.options.displayalpha){for(x=0;x<t.length-1;x++)if(alpha=t[x].attributes["data-alpha"].value,mybutton=document.querySelector(this.me+".filter-button-group-alpha .iso_button_alpha_"+alpha),!mybutton){buttons=document.querySelector(this.me+".filter-button-group-alpha");var e=document.createElement("button");e.classList.add("btn"),e.classList.add(this.options.button_bootstrap.substr(4,100).trim()),e.classList.add("iso_button_alpha_"+alpha),e.setAttribute("data-sort-value",alpha),e.title=alpha,e.innerHTML=alpha,buttons.append(e)}"button"==this.options.displayalpha&&(this.remove_events_button("alpha"),this.events_button("alpha")),"multi"==this.options.displayalpha&&(this.remove_events_button("alpha"),this.events_multibutton("alpha"))}},CGIsotope.prototype.grid_filter=function(t,e){var o=cgisotope[t],s=!o.qsRegex||e.textContent.match(o.qsRegex),i=e.getAttribute("data-category"),l=e.getAttribute("class").split(" "),a=!1,r=!0;if(-1==o.filters.alpha.indexOf("*")&&(alpha=e.getAttribute("data-title").substring(0,1),-1==o.filters.alpha.indexOf(alpha)))return!1;if(-1==o.filters.lang.indexOf("*")&&(lalang=e.getAttribute("data-lang"),-1==o.filters.lang.indexOf(lalang)))return!1;if(o.rangeSlider){var n=e.getAttribute("data-range");o.range_sel!=o.range_init&&(ranges=o.range_sel.split(","),r=parseInt(n)>=parseInt(ranges[0])&&parseInt(n)<=parseInt(ranges[1]))}if("fields"!=o.options.article_cat_tag&&"catfields"!=o.options.article_cat_tag&&"tagsfields"!=o.options.article_cat_tag&&"cattagsfields"!=o.options.article_cat_tag){if(-1!=o.filters.cat.indexOf("*")&&-1!=o.filters.tags.indexOf("*"))return s&&r&&!0;if(count=0,-1==o.filters.cat.indexOf("*")){if(-1==o.filters.cat.indexOf(i))return!1;count=1}if(-1!=o.filters.tags.indexOf("*"))return s&&r&&!0;for(var u in l)-1!=o.filters.tags.indexOf(l[u])&&(a=!0,count+=1);return"true"==o.options.searchmultiex?(lgth=o.filters.cat.length+o.filters.tags.length,-1==o.filters.tags.indexOf("*")&&-1==o.filters.cat.indexOf("*")||(lgth-=1),s&&r&&count==lgth):s&&r&&a}if(ix=0,void 0===o.filters)return s&&r&&!0;for(x in filterslength=0,o.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(filterslength++,-1!=o.filters[x].indexOf("*")&&ix++);if(catok=!1,-1==o.filters.cat.indexOf("*")){if(-1==o.filters.cat.indexOf(i))return!1;catok=!0}else catok=!0;if(tagok=!1,-1==o.filters.tags.indexOf("*"))for(var u in l)-1!=o.filters.tags.indexOf(l[u])&&(tagok=!0);else tagok=!0;if(ix==filterslength&&catok&&tagok)return s&&r&&!0;for(var c in count=0,l)for(x in o.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&-1!=o.filters[x].indexOf(l[c])&&(count+=1);if("true"==o.options.searchmultiex){for(x in lgth=0,o.filters)"cat"!=x&&"lang"!=x&&"alpha"!=x&&"tags"!=x&&(lgth+=o.filters[x].length,-1!=o.filters[x].indexOf("*")&&(lgth-=1));return s&&r&&count==lgth&&tagok}return s&&r&&count>=filterslength-ix&&catok&&tagok},CGIsotope.prototype.filter_list=function(t,e,o){if(obj=e.currentTarget,$parent=obj.getAttribute("data-filter-group"),$isclone=!1,"clonedbuttons"==obj.parentNode.id?($selectid=$parent,$isclone=!0,sortValue="",$isoid=obj.parentNode.getAttribute("data"),t=cgisotope[$isoid]):($selectid=obj.getAttribute("data-filter-group"),sortValue=obj.querySelector(".is-highlighted"),sortValue=sortValue.dataset.value),"undefined"==typeof sortValue&&(sortValue=""),elChoice=document.querySelector("joomla-field-fancy-select#isotope-select-"+$selectid),choicesInstance=elChoice.choicesInstance,$needclone=!1,$grdparent=obj.parentNode,"offcanvas-body"==$grdparent.className&&($needclone=!0),"remove"!=o){if(""==sortValue){choicesInstance.removeActiveItems(),choicesInstance.setChoiceByValue(""),t.filters[$parent]=["*"],$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(s=0;s<$buttons.length;s++)$buttons[s].remove()}else if(t.filters[$parent]=[sortValue],choicesInstance.getValue().value!=sortValue&&choicesInstance.setChoiceByValue(sortValue),lib=choicesInstance.getValue().label,"tags"==$parent&&(tmpoff=document.querySelector(".offcanvas .filter-button-group-tags"),tmpoff&&($needclone=!0)),$needclone){$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(s=0;s<$buttons.length;s++)$buttons[s].remove();clone_exist=document.querySelector(this.me+'#clonedbuttons button[data-sort-value="'+t.filters[$parent]+'"]'),clone_exist||(t.create_clone_button($parent,sortValue,lib,"","list",""),t.create_clone_listener(sortValue))}t.update_cookie_filter(),t.updateFilterCounts()}else{if(t.removeFilter(t.filters,$parent,e.detail.value),$needclone){$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(var s=0;s<$buttons.length;s++)$buttons[s].remove()}0==t.filters[$parent].length&&(t.filters[$parent]=["*"],choicesInstance.setChoiceByValue(""),t.update_cookie_filter(),t.updateFilterCounts())}},CGIsotope.prototype.filter_list_multi=function(t,e,o){$evnt=e,obj=e.currentTarget,$params=o,$isclone=!1,"clonedbuttons"==obj.parentNode.id?($parent=obj.getAttribute("data-filter-group"),$selectid="isotope-select-"+$parent,$isclone=!0,$isoid=obj.parentNode.getAttribute("data"),t=cgisotope[$isoid]):($parent=obj.parentNode.parentNode.parentNode.getAttribute("data-filter-group"),$selectid=obj.getAttribute("id")),void 0===t.filters[$parent]&&(t.filters[$parent]=[]);var s=document.querySelector("joomla-field-fancy-select#"+$selectid).choicesInstance;if("remove"==$params){if($isclone){t.removeFilter(t.filters,$parent,obj.getAttribute("data-sort-value")),savfilter=JSON.parse(JSON.stringify(this.filters)),s.removeActiveItems(),t.filters=JSON.parse(JSON.stringify(savfilter)),s.removeActiveItemsByValue("");for(var i=0;i<t.filters[$parent].length;i++)remval=t.filters[$parent][i],s.setChoiceByValue(remval),asel=s.getValue()[i],t.create_clone_button($parent,remval,asel.label,"","list_multi",""),t.create_clone_listener(remval)}else this.removeFilter(t.filters,$parent,$evnt.detail.value),myclone=document.querySelector('#clonedbuttons button[data-sort-value="'+$evnt.detail.value+'"]'),myclone&&myclone.remove();0==t.filters[$parent].length&&(t.filters[$parent]=["*"],s.setChoiceByValue(""))}if($needclone=!1,null!=obj.parentNode&&($grdparent=obj.parentNode.parentNode.parentNode.parentNode.parentNode,"offcanvas-body"==$grdparent.classList[0]&&($needclone=!0)),"choice"==$params){if(Number.isInteger($evnt.detail)){sortValue=obj.querySelector(".is-highlighted"),sortValue=sortValue.dataset.value,$parent="tags",values=s.choiceList.element.children,sel="";for(i=0;i<values.length;i++)values[i].getAttribute("data-value")==sortValue&&(sel=sortValue,lib=values[i].innerHTML,s.setChoiceByValue(sel));tmpoff=document.querySelector(".offcanvas .filter-button-group-tags"),tmpoff&&($needclone=!0)}else sel=$evnt.detail.choice.value,lib=$evnt.detail.choice.label;if(""==sel){t.filters[$parent]=["*"],s.removeActiveItems(),s.setChoiceByValue(""),$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(i=0;i<$buttons.length;i++)$buttons[i].remove()}else{if(-1!=t.filters[$parent].indexOf("*")){s.removeActiveItemsByValue(""),t.filters[$parent]=[],$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(i=0;i<$buttons.length;i++)$buttons[i].remove()}$needclone&&(clone_exist=!1,-1!=t.filters[$parent].indexOf(sel)&&(clone_exist=!0),clone_exist||(t.create_clone_button($parent,sel,lib,"","list_multi",""),t.create_clone_listener(sel))),t.addFilter(t.filters,$parent,sel)}s.hideDropdown()}t.update_cookie_filter(),t.updateFilterCounts()},CGIsotope.prototype.filter_button=function(t,e){if($myid=t.parentNode.getAttribute("data"),$myiso=cgisotope[$myid],!$myiso.hasClass(t,"disabled")){$parent=t.parentNode.getAttribute("data-filter-group"),child=t.getAttribute("data-child");var o=t.getAttribute("data-sort-value");if($isclone=!1,"clonedbuttons"==t.parentNode.id&&($parent=t.getAttribute("data-filter-group"),abutton=document.querySelector(".isotope_button-group .iso_button_"+$parent+"_"+o),$myiso.toggleClass(abutton,"is-checked"),o="*",-1!=$myiso.std_parents.indexOf($parent)?abutton=document.querySelector(".iso_button_"+$parent+"_tout"):abutton=document.querySelector(".iso_button_tout.filter-button-group-"+$parent),$myiso.toggleClass(abutton,"is-checked"),$isclone=!0),void 0===$myiso.filters[$parent]&&($myiso.filters[$parent]={}),$needclone=!1,$grdparent=t.parentNode.parentNode,$myiso.hasClass($grdparent,"offcanvas-body")&&($needclone=!0),$needclone){if($myiso.hasClass(t,"is-checked"))return;$buttons=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(var s=0;s<$buttons.length;s++)$buttons[s].remove();"*"!=o&&(lib=e.srcElement.innerHTML,title=e.srcElement.title,$myiso.create_clone_button($parent,o,lib,title,"button",child),$myiso.create_clone_listener(o))}"*"==o?($myiso.filters[$parent]=["*"],$isclone&&t.remove,child&&$myiso.set_family_all($myiso.me,child,"button")):($myiso.filters[$parent]=[o],child&&$myiso.set_family($myiso.me,"",child,o,"button")),$myiso.update_cookie_filter(),$myiso.updateFilterCounts()}},CGIsotope.prototype.filter_multi=function(t,e){id=t.parentNode.getAttribute("data"),$myiso=cgisotope[id];var o=t.getAttribute("data-sort-value");if(child=t.getAttribute("data-child"),$isclone=!1,"clonedbuttons"==t.parentNode.id){$parent=t.getAttribute("data-filter-group"),$buttons=document.querySelectorAll(".iso_button_"+$parent+"_"+o);for(var s=0;s<$buttons.length;s++)$myiso.toggleClass($buttons[s],"is-checked");$isclone=!0}else $parent=t.parentNode.getAttribute("data-filter-group"),$myiso.toggleClass(t,"is-checked");var i=$myiso.hasClass(t,"is-checked");if($needclone=!1,$grdparent=t.parentNode.parentNode,$myiso.hasClass($grdparent,"offcanvas-body")&&($needclone=!0),$needclone&&(i&&"*"!=o?("img"==e.srcElement.localName?lib=e.srcElement.outerHTML+e.srcElement.nextSibling.textContent:lib=e.srcElement.innerHTML,title=e.srcElement.title,$myiso.create_clone_button($parent,o,lib,title,"multi",child),$myiso.create_clone_listener(o)):"*"!=o&&(aclone=document.querySelector("#clonedbuttons .iso_button_"+$parent+"_"+o),aclone.remove())),void 0===$myiso.filters[$parent]&&($myiso.filters[$parent]=[]),"*"==o){$myiso.filters[$parent]=["*"],clones=document.querySelectorAll('#clonedbuttons [data-filter-group="'+$parent+'"]');for(s=0;s<clones.length;s++)clones[s].remove();child&&$myiso.set_family_all($myiso.me,child,"button")}else $myiso.removeFilter($myiso.filters,$parent,"*"),$myiso.removeFilter($myiso.filters,$parent,"none"),i?($myiso.addFilter($myiso.filters,$parent,o),child&&$myiso.set_family($myiso.me,$parent,child,o,"button")):($myiso.removeFilter($myiso.filters,$parent,o),0==$myiso.filters[$parent].length&&($myiso.filters[$parent]=["*"],$isclone&&(aclone=document.querySelector(".filter-button-group-"+$parent+' [data-sort-value="*"]'),$myiso.addClass(aclone,"is-checked"))),child&&($myiso.filters[$parent]==["*"]?$myiso.set_family_all($myiso.me,child,"button"):$myiso.del_family($myiso.me,$parent,child,o,"button")));$myiso.update_cookie_filter(),$myiso.updateFilterCounts()},CGIsotope.prototype.set_buttons_multi=function(t){if($parent=t.parentNode.getAttribute("data-filter-group"),"*"==t.getAttribute("data-sort-value")){buttons=t.parentNode.querySelectorAll("button.is-checked");for(var e=0;e<buttons.length;e++)this.removeClass(buttons[e],"is-checked");this.addClass(t,"is-checked")}else 0==this.filters[$parent].length||"*"==this.filters[$parent]?(button_all=t.parentNode.querySelector('[data-sort-value="*"]'),this.addClass(button_all,"is-checked"),this.filters[$parent]=["*"],this.update_cookie_filter(),this.iso.arrange()):(button_all=t.parentNode.querySelector('[data-sort-value="*"]'),this.removeClass(button_all,"is-checked"))},CGIsotope.prototype.updateFilterCounts=function(){for(var t=document.querySelectorAll(this.me+".isotope_item"),e=document.querySelector(this.me+".iso_button_more"),o=this.iso.getFilteredItemElements(),s=o.length,i=document.querySelector(this.me+".iso_div_empty"),l=0;l<t.length;l++)this.hasClass(t[l],"iso_hide_elem")&&this.removeClass(t[l],"iso_hide_elem");if(this.empty_message&&(0==s?this.removeClass(i,"iso_hide_elem"):this.hasClass(i,"iso_hide_elem")||this.addClass(i,"iso_hide_elem")),this.items_limit>0){for(var a=0;a<o.length;a++)a>=this.items_limit&&this.addClass(t[a],"iso_hide_elem");a<this.items_limit&&"infinite"!=this.options.pagination?this.addClass(e,"iso_hide_elem"):this.removeClass(e,"iso_hide_elem")}if(0==this.items_limit&&this.sav_limit>0&&"infinite"!=this.options.pagination){for(a=0;a<o.length;a++)this.hasClass(o[a],"iso_hide_elem")&&(s-=1);s>this.sav_limit?this.removeClass(e,"iso_hide_elem"):this.addClass(e,"iso_hide_elem")}this.iso.arrange()},CGIsotope.prototype.create_clone_button=function(t,e,o,s,i,l){buttons=document.querySelector("#clonedbuttons");var a=document.createElement("button");a.classList.add("btn"),a.classList.add("btn-sm"),a.classList.add("iso_button_"+t+"_"+e),a.classList.add("is-checked"),a.setAttribute("data-sort-value",e),a.setAttribute("data-filter-group",t),a.setAttribute("data-clone-type",i),l&&a.setAttribute("data-child",l),o.indexOf("img src")>0?a.title=o.substr(o.indexOf(">")+1):a.title=s,a.innerHTML=o,buttons.prepend(a)},CGIsotope.prototype.create_clone_listener=function(t){onebutton=document.querySelector('#clonedbuttons [data-sort-value="'+t+'"] '),["click","touchstart"].forEach((t=>{onebutton.addEventListener(t,(t=>{t.stopPropagation(),t.preventDefault(),$this=t.currentTarget,"multi"==$this.getAttribute("data-clone-type")&&this.filter_multi($this,t),"button"==$this.getAttribute("data-clone-type")&&this.filter_button($this,t),"list_multi"==$this.getAttribute("data-clone-type")&&this.filter_list_multi($this,t,"remove"),"list"==$this.getAttribute("data-clone-type")&&this.filter_list($this,t),$this.remove()}))}))},CGIsotope.prototype.debounce=function(t,e){var o;return function(){o&&clearTimeout(o),o=setTimeout((function(){t(),o=null}),e||100)}},CGIsotope.prototype.addFilter=function(t,e,o){e&&-1==t[e].indexOf(o)&&t[e].push(o)},CGIsotope.prototype.removeFilter=function(t,e,o){Array.isArray(t[e])||(t[e]=["*"]);var s=t[e].indexOf(o);-1!=s&&t[e].splice(s,1)},CGIsotope.prototype.update_cookie_filter=function(){for(x in $filter_cookie="",this.filters)"null"!=x&&($filter_cookie.length>0&&($filter_cookie+=">"),$filter_cookie+=x+"<"+this.filters[x].toString());$filter_cookie.length>0&&($filter_cookie+=">"),this.CG_Cookie_Set(this.isoid,"filter",$filter_cookie)},CGIsotope.prototype.getCookie=function(t){let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):""},CGIsotope.prototype.CG_Cookie_Set=function(t,e,o){var s;$myiso=cgisotope[t],duration=$myiso.options.cookieduration;var i=new Date;"undefined"==typeof duration||0==duration?s="":"-1"==duration?s=";Max-Age=0;":"1d"==duration?(i.setTime(i.getTime()+864e5),s=";expires="+i.toUTCString()):"1w"==duration?(i.setTime(i.getTime()+6048e5),s=";expires="+i.toUTCString()):"1m"==duration&&(i.setTime(i.getTime()+2592e6),s=";expires="+i.toUTCString()),$secure="","https:"==window.location.protocol&&($secure="secure;"),lecookie=$myiso.getCookie($myiso.cookie_name),$val=e+":"+o,$cook=$val,""!=lecookie&&(lecookie.indexOf(e)>=0?($cook="",$arr=lecookie.split("&"),$arr.forEach($myiso.replaceCookie,$val)):$cook=lecookie+"&"+$val),document.cookie=$myiso.cookie_name+"="+$cook+s+"; path=/; samesite=lax;"+$secure},CGIsotope.prototype.replaceCookie=function(t,e,o){this.startsWith("search:")&&t.indexOf("search:")>=0&&(o[e]=this),this.startsWith("sort:")&&t.indexOf("sort:")>=0&&(o[e]=this),this.startsWith("filter:")&&t.indexOf("filter:")>=0&&(o[e]=this),this.startsWith("range:")&&t.indexOf("range:")>=0&&(o[e]=this),$cook.length>0&&($cook+="&"),$cook+=o[e]},CGIsotope.prototype.splitCookie=function(t,e){if(this.quicksearch=document.querySelector(this.me+".quicksearch"),e.indexOf("search:")>=0&&this.quicksearch&&(val=e.split(":"),this.qsRegex=new RegExp(val[1],"gi"),this.quicksearch.value=val[1]),e.indexOf("sort:")>=0){for(val=e.split(":"),val=val[1].split("-"),sort_by=val[0].split(","),asc="true"==val[1],sortAsc={},i=0;i<sort_by.length;i++)"featured"==sort_by[i]?sortAsc[sort_by[i]]=!1:sortAsc[sort_by[i]]=asc;for(asc=sortAsc,sortButtons=document.querySelectorAll(this.me+".sort-by-button-group button"),s=0;s<sortButtons.length;s++)"*"!=val[0]&&(sortButtons[s].classList.remove("is-checked"),sortButtons[s].getAttribute("data-sort-value")==val[0]&&(sortButtons[s].classList.add("is-checked"),sortButtons[s].setAttribute("data-sens","+"),"true"!=val[1]&&sortButtons[s].setAttribute("data-sens","-")))}if(e.indexOf("filter:")>=0&&(val=e.split(":"),val[1].length>0))for(val=val[1].split(">"),x=0;x<val.length-1;x++)if(values=val[x].split("<"),-1!=this.std_parents.indexOf(values[0])){if("tags"==values[0]&&"listmulti"==this.options.displayfiltertags||"cat"==values[0]&&"listmulti"==this.options.displayfiltercat){var o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance;if(this.filters[values[0]]=values[1].split(","),"*"==values[1])o.setChoiceByValue("");else{for(o.removeActiveItemsByValue(""),vals=values[1].split(","),c=0;c<vals.length;c++)o.setChoiceByValue(vals[c]);if("offcanvas-body"==a.parentElement.parentElement.className)for(c=0;c<o.getValue().length;c++)lib=o.getValue()[c].label,sel=o.getValue()[c].value,child=null,this.create_clone_button(values[0],sel,lib,"","list_multi",child),this.create_clone_listener(sel)}}else if("*"!=values[1]){for(this.filters[values[0]]=values[1].split(","),"lang"==values[0]?filterButtons=document.querySelectorAll(this.me+".iso_lang button.is-checked"):filterButtons=document.querySelectorAll(this.me+".filter-button-group-"+values[0]+" button.is-checked"),f=0;f<filterButtons.length;f++)filterButtons[f].classList.remove("is-checked");for(v=0;v<this.filters[values[0]].length;v++)if("tags"==values[0]&&"list"==this.options.displayfiltertags||"cat"==values[0]&&"list"==this.options.displayfiltercat){if((o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance).setChoiceByValue(this.filters[values[0]][v]),"offcanvas-body"==a.parentElement.parentElement.className){o=a.choicesInstance;sel=this.filters[values[0]][v],lib=o.getValue().label,child=null,this.create_clone_button(values[0],sel,lib,"","list",child),this.create_clone_listener(sel)}}else{if($button=document.querySelector(this.me+".iso_button_"+values[0]+"_"+this.filters[values[0]][v]),!$button)continue;this.addClass($button,"is-checked"),this.hasClass($button.parentNode.parentNode,"offcanvas-body")&&($type="button",("cat"!=values[0]||"multi"!=this.options.displayfiltercat&&"multiex"!=this.options.displayfiltercat)&&("tags"!=values[0]||"multi"!=this.options.displayfiltertags&&"multiex"!=this.options.displayfiltercat)&&("alpha"!=values[0]||"multi"!=this.options.displayalpha&&"multiex"!=this.options.displayalpha)||($type="multi"),child=null,lib=$button.innerHTML,title=$button.title,this.create_clone_button(values[0],this.filters[values[0]][v],lib,title,$type,child),this.create_clone_listener(this.filters[values[0]][v]))}}}else if("listmulti"==this.options.displayfilterfields){var a;o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance;if(this.filters[values[0]]=values[1].split(","),"*"==values[1])o.setChoiceByValue("");else{for(o.removeActiveItemsByValue(""),vals=values[1].split(","),c=0;c<vals.length;c++)o.setChoiceByValue(vals[c]);if("offcanvas-body"==a.parentElement.parentElement.className)for(c=0;c<o.getValue().length;c++)lib=o.getValue()[c].label,sel=o.getValue()[c].value,child=null,this.create_clone_button(values[0],sel,lib,"","list",child),this.create_clone_listener(sel)}}else if("*"!=values[1]){for(alist=document.querySelectorAll(this.me+".class_fields_"+values[0]+" .is-checked"),l=0;l<alist.length;l++)alist[l].classList.remove("is-checked");for(this.filters[values[0]]=values[1].split(","),v=0;v<this.filters[values[0]].length;v++)"list"==this.options.displayfilterfields||"listex"==this.options.displayfilterfields?(o=(a=document.querySelector("joomla-field-fancy-select#isotope-select-"+values[0])).choicesInstance,this.filters[values[0]]=values[1].split(","),"*"==values[1]?o.setChoiceByValue(""):(o.removeActiveItemsByValue(""),o.setChoiceByValue(values[1]),"offcanvas-body"==a.parentElement.parentElement.parentElement.className&&(lib=o.getValue().label,sel=o.getValue().value,child=null,this.create_clone_button(values[0],sel,lib,"","list",child),this.create_clone_listener(sel)))):(obj=document.querySelector(this.me+".iso_button_"+values[0]+"_"+this.filters[values[0]][v]),this.addClass(obj,"is-checked"),child=obj.getAttribute("data-child"),child&&(this.sortValue=obj.getAttribute("data-sort-value"),this.set_family(this.me,"",child,this.sortValue,"button")),this.hasClass(obj.parentNode.parentNode.parentNode,"offcanvas-body")&&($type="button",lib=obj.innerHTML,title=obj.title,this.create_clone_button(values[0],this.filters[values[0]][v],lib,title,$type,child),this.create_clone_listener(this.filters[values[0]][v])))}e.indexOf("range:")>=0&&(val=e.split(":"),val[1].length>0&&(spl=val[1].split(","),this.min_range=parseInt(spl[0]),this.max_range=parseInt(spl[1])))},CGIsotope.prototype.set_family=function(t,e,o,s,i){for(parents=[];o;){if("list"==i){$asel=document.querySelector(t+'.filter-button-group-fields [data-group-id="'+o+'"]'),listoptions=$asel.querySelectorAll("option");for(var l=0;l<listoptions.length;l++)this.hasClass(listoptions[l],"iso_hide_elem")||this.addClass(listoptions[l],"iso_hide_elem");$all=$asel.querySelector('[data-all="all"]'),removeClass($all,"iso_hide_elem"),$all.setAttribute("selected",!0),o=$all.getAttribute("data-child")}else{if($myparent=document.querySelector(t+".filter-button-group-fields").parentNode,$asel=$myparent.querySelector('[data-group-id="'+o+'"]'),""==e||""!=e&&1==this.filters[e].length&&"*"!=this.filters[e]){buttons=$asel.querySelectorAll("button");for(l=0;l<buttons.length;l++)this.hasClass(buttons[l],"iso_hide_elem")||this.addClass(buttons[l],"iso_hide_elem"),this.removeClass(buttons[l],"is-checked")}abutton=$asel.querySelector("button.iso_button_tout"),this.removeClass(abutton,"iso_hide_elem"),this.addClass(abutton,"is-checked"),o=abutton.getAttribute("data-child")}if(0==parents.length){buttons=$asel.querySelectorAll('[data-parent="'+s+'"]');for(l=0;l<buttons.length;l++)this.removeClass(buttons[l],"iso_hide_elem");if(newparents=$asel.querySelectorAll('[data-parent="'+s+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)newval="list"==i?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=newval&&parents.push(newval)}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(s=parents[$i])){buttons=$asel.querySelectorAll('[data-parent="'+s+'"]');for(l=0;l<buttons.length;l++)this.removeClass(buttons[l],"iso_hide_elem");if($vals=$asel.querySelectorAll('[data-parent="'+s+'"]'),$vals.length>0)for($j=0;$j<$vals.length;$j++)oneval="list"==i?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=oneval&&newparents.push(oneval)}parents=newparents}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"],s=""}},CGIsotope.prototype.del_family=function(t,e,o,s,i){for(parents=[];o;){if(myparent=document.querySelector(t+".filter-button-group-fields").parentNode,$asel=myparent.querySelector('[data-group-id="'+o+'"]'),abutton=$asel.querySelector('[data-parent="'+s+'"]'),this.addClass(abutton,"iso_hide_elem"),this.removeClass(abutton,"is-checked"),abutton=$asel.querySelector("button.iso_button_tout"),this.removeClass(abutton,"iso_hide_elem"),this.addClass(abutton,"is-checked"),o=$asel.getAttribute("data-child"),0==parents.length){if(newparents=$asel.querySelectorAll('[data-parent="'+s+'"]'),parents=[],newparents.length>0)for($i=0;$i<newparents.length;$i++)delval="list"==i?newparents[$i].getAttribute("value"):newparents[$i].getAttribute("data-sort-value"),"*"!=delval&&(parents.push(delval),this.addClass(newparents[$i],"iso_hide_elem"))}else{for(newparents=[],$i=0;$i<parents.length;$i++)if("*"!=(s=parents[$i])&&($vals=$asel.querySelectorAll('[data-parent="'+s+'"]'),$vals.length>0))for($j=0;$j<$vals.length;$j++)delval="list"==i?$vals[$j].getAttribute("value"):$vals[$j].getAttribute("data-sort-value"),"*"!=delval&&(newparents.push(delval),this.addClass($vals[$j],"iso_hide_elem"));parents=newparents}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"],s=""}},CGIsotope.prototype.set_family_all=function(t,e,o){for(parents=[];e;){for($asel="list"==o?document.querySelector(t+".filter-button-group-fields"):document.querySelector(t+".filter-button-group-fields").parentNode,parents=$asel.querySelectorAll('[data-child="'+e+'"]'),s=0;s<parents.length;s++)this.hasClass(parents[s],"iso_hide_elem")||(setval="list"==o?parents[s].getAttribute("value"):parents[s].getAttribute("data-sort-value"),setval&&"*"!=setval&&this.removeClass($asel.querySelector('[data-parent="'+setval+'"]'),"iso_hide_elem"));if("list"==o)allbuton=$asel.querySelector('[data-group-id="'+e+'"] [data-all="all"]'),e=allbutton.getAttribute("data-child");else{buttons=$asel.querySelectorAll('[data-group-id="'+e+'"] button');for(var s=0;s<buttons.length;s++)this.removeClass(buttons[s],"is-checked");this.addClass($asel.querySelector('[data-group-id="'+e+'"] button.iso_button_tout'),"is-checked"),myparent=$mychild=$asel.querySelector('[data-group-id="'+e+'"]'),$mychild_all=$mychild.querySelector("button.iso_button_tout"),e=$mychild_all.getAttribute("data-child")}childstr=$asel.getAttribute("data-filter-group"),this.filters[childstr]=["*"]}},CGIsotope.prototype.hasClass=function(t,e){var o=new RegExp("(?:\\s|^)"+e+"(?:\\s|$)");return!!t.className.match(o)},CGIsotope.prototype.addClass=function(t,e){t.className+=" "+e},CGIsotope.prototype.removeClass=function(t,e){var o=new RegExp("(?:\\s|^)"+e+"(?:\\s|$)");t.className=t.className.replace(o," ")},CGIsotope.prototype.toggleClass=function(t,e){$myiso.hasClass(t,e)?$myiso.removeClass(t,e):$myiso.addClass(t,e)},CGIsotope.prototype.scrollTo=function(t,e){var o=document.scrollingElement||document.documentElement,s=o.scrollTop,i=t-s,l=performance.now(),a=function(r){var n=r-l;o.scrollTop=parseInt(function(t,e,o,s){return(t/=s/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e}(n,s,i,e)),n<e?requestAnimationFrame(a):o.scrollTop=t};requestAnimationFrame(a)},CGIsotope.prototype.resetToggle=function(){$myiso.grid_toggle&&$myiso.hasClass($myiso.grid_toggle,"isotope-hide")?($myiso.removeClass($myiso.iso_article,"isotope-open"),$myiso.addClass($myiso.iso_article,"isotope-hide"),$myiso.removeClass($myiso.grid_toggle,"isotope-hide"),$myiso.iso_div.refresh):$myiso.iso_article&&$myiso.hasClass($myiso.iso_article,"isotope-open")&&($myiso.removeClass($myiso.iso_article,"isotope-open"),$myiso.addClass($myiso.iso_article,"isotope-hide"),$myiso.iso_article.innerHTML(""),$myiso.iso_div.refresh)},grid_filter=function(t){},go_click=function(t,e){event.preventDefault(),"webLinks"==t||window.event.ctrlKey?window.open(e,"_blank"):location=e};